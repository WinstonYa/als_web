<!DOCTYPE html>
<html xmlns:v-on="http://www.w3.org/1999/xhtml">
<head lang="en">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>涉爆单位</title>

    <link href="../../css/bootstrap@3.3.7/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <!-- <link href="../../../css/bootstrap@3.3.7/css/bootstrap.min.css" rel="stylesheet" type="text/css"> -->
    <link href="../../alsm/ttyu.net/file/ttyu/css/ttyu.web.css" rel="stylesheet" type="text/css">
    <link href="../../css/TbaleIndexCss.css" rel="stylesheet">

    <script src="../../alsm/ttyu.net/file/system/jq/jquery.min.js" type="text/javascript"></script>
    <script src="../../alsm/ttyu.net/file/system/jq/jquery-ui.js" type="text/javascript"></script>

    <script src="../../alsm/ttyu.net/file/system/bs/bootstrap.min.js" type="text/javascript"></script>

    <script src="../../alsm/ttyu.net/file/system/promise/es6-promise.js"></script>
    <script src="../../alsm/ttyu.net/file/system/promise/es6-promise.auto.js"></script>

    <!-- 必须先引入vue  后使用element-ui -->
    <script src="../../alsm/vue/vue.js"></script>

    <link href="../../alsm/element2.12.0/index.css" rel="stylesheet">
    <!-- <link href="../../css/elui/index.css" rel="stylesheet"> -->
    <!-- <script src="../../alsm/elui/index.js"></script> -->
    <!--高版本-->
    <script src="../../alsm/element2.12.0/index.js"></script>


    <script src="../../alsm/api_sub.js" type="text/javascript"></script>

    <script src="../../js/config/config.js"></script>

    <style>
        /*解决ie浏览器 关闭对话框闪屏*/
        .el-dialog_wrapper .dialog-fade-leave-active{
            animation-fill-mode:forwards;
        }

        .dialog-fade-leave-active{
            animation:none;
            -ms-animation:none;
        }

        .el-dialog__wrapper{
            animation:none;
            -ms-animation:none;
        }

        .el-table .cell{
            white-space:nowrap;
        }

        .avatar-uploader .el-upload {
            border: 1px dashed #d9d9d9;
            border-radius: 6px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            width:200px
        }

        .avatar-uploader2 .el-upload {
            width: 100%;
            height: 100%;
        }
        .avatar-uploader .el-upload:hover {
            border-color: #409EFF;
        }
        .avatar-uploader-icon {
            font-size: 28px;
            color: #8c939d;
            width: 150px;
            height: 200px;
            line-height: 200px;
            text-align: center;
        }
        .avatar {
            width: 200px;
            height: 200px;
            display: block;
        }

        .avatar2 {
            width: 70%;
            height: 70%;
            margin: 0 auto;
        }

        .avatar-uploader2 {
            margin-left: 0;
        }

        .check_title {
            margin-left: 100px;
            margin-bottom: 10px;
        }

        [v-cloak] {
            display: none;
        }

        .el-col {
            height: 48px;
        }
        .el-form-item__error {
            top: 50%;
            width: 80px;
            transform: translateY(-50%);
            padding: 0;
            /* text-align: center; */
            left: 210px;
            z-index: 999;
        }
        .el-upload__input {
            display: none !important;
        }
        #tableDiv{
            overflow: auto;
        }
        .el-input.is-disabled .el-input__inner, .el-textarea.is-disabled .el-textarea__inner, .el-radio__input.is-disabled + span.el-radio__label {
            color:#606266;
        }
        .el-radio__input.is-disabled.is-checked .el-radio__inner {
            border-color: #409EFF;
            background: #409EFF;
        }

        .table tbody tr td {
            text-align: center;
        }

        .table .el-checkbox__inner {
            left: 50%;
        }

        .el-image img{
            max-width: 100%;
            max-height: 100%;
        }
        .upload_warp_img_divList {
            margin: 5px;
        }
        .el-image {
            display: block;
        }
        .el-image__inner--center {
            top: 0;
            left: 0;
            transform: translate(0, 0);
        }
    </style>
</head>
<body>
<div id='body1' v-loading.fullscreen.lock="mainDiv"
    element-loading-text="拼命处理中"
    element-loading-spinner="el-icon-loading"
    element-loading-background="rgba(0, 0, 0, 0.5)">
    <div class="t-body">
        <div id="mainBody" style="display:none;">
        <div >
            <div class="t-find">
                <div class="t-form">
                    <div>
                        <span style="margin-right: -10px;">派出所名称：</span>
                        <el-select v-model="params.dptId" clearable filterable placeholder="请选择派出所">
                            <el-option
                                v-for="item in policeStation"
                                :key="item.name"
                                :label="item.name"
                                :value="item.id">
                            </el-option>
                        </el-select>
                    </div>
                    <div>
                        <span>单位名称：</span>
                        <input  type="text" v-model="params.unitp" >
                    </div>

                    <div>
                        <span>负责人名称：</span>
                        <input  type="text" v-model="params.fzrxm" >
                    </div>
                </div>
                <div class="t-btns">
                    <button title='查询'>
                        <span class="glyphicon glyphicon-search" ></span>
                        查询
                    </button>
                    <button title='重置'>
                        <span class="glyphicon glyphicon-repeat" ></span>
                        重置
                    </button>
                </div>
            </div>
        </div>

        <div class="t-btnsDiv" style="border-top: 8px solid rgb(236, 240, 245) !important"></div>

        <div class="t-btns" style="background: #ffffff">
            <button title='新增'>
                <span class="glyphicon glyphicon glyphicon-plus"></span>
                新增
            </button>
            <button @click="deleteList()" >
                <span class="glyphicon glyphicon-trash"></span>
                删除
            </button>
        </div>

        <div id="tableDiv">
            <el-table :data="rows"
                :row-key="rowKey"
                ref="myTable01"
                @select='selectRows'
                @select-all="selectRows"
                border fit highlight-current-row style="width: 100%;"
                :row-style="{height:'5px'}" :cell-style="{padding:'5px 0'}">

                <el-table-column type="selection" align="center"  :reserve-selection="true">
                </el-table-column>

                <el-table-column align="center" label="序号" width="60">
                    <template slot-scope="scope">
                        {{  (pageIndex - 1) * pageSize +scope.$index+1 }}
                    </template>
                </el-table-column>

                <el-table-column align="center" label="操作" width="240">
                    <template slot-scope="scope">
                        <el-button size="mini"  icon="el-icon-edit" @click="show(scope.row)" style="display:inline">编辑</el-button>
                        <el-button size="mini" icon="el-icon-search" @click="hotalCheck(scope.row.id)">安全检查记录</el-button>
                    </template>
                </el-table-column>

                <el-table-column align="center" label="单位名称" width="200">
                    <template slot-scope="scope">
                        <el-tooltip effect="light" :content="scope.row.unitp" placement="top">
                            <span>{{ scope.row.unitp }}</span>
                        </el-tooltip>
                    </template>
                </el-table-column>

                <el-table-column align="center" label="职工人数(个)" width="110">
                    <template slot-scope="scope">
                        {{ scope.row.zgrs }}个
                    </template>
                </el-table-column>

                <el-table-column align="center" label="生产作业点(个)" width="120">
                    <template slot-scope="scope">
                        {{ scope.row.sczyd }}个
                    </template>
                </el-table-column>

                <el-table-column align="center" label="是否涉爆" width="80">
                    <template slot-scope="scope">
                        {{ scope.row.sfsb }}
                    </template>
                </el-table-column>

                <el-table-column align="center" label="负责人姓名" width="100">
                    <template slot-scope="scope">
                        <el-tooltip effect="light" :content="scope.row.fzrxm" placement="top">
                            <span>{{ scope.row.fzrxm }}</span>
                        </el-tooltip>
                    </template>
                </el-table-column>

                <el-table-column align="center" label="负责人联系电话" width="150">
                    <template slot-scope="scope">
                        {{ scope.row.fzrlxdh }}
                    </template>
                </el-table-column>

                <el-table-column align="center" label="经营范围" min-width="200">
                    <template slot-scope="scope">
                        <el-tooltip effect="light" :content="scope.row.jyfw" placement="top">
                            <span>{{ scope.row.jyfw }}</span>
                        </el-tooltip>
                    </template>
                </el-table-column>

                <!-- <el-table-column align="center" label="重点岗位人员信息" width="140" min-width="15">
                    <template slot-scope="scope">
                        <el-button size="small" type="info" @click="importantPersonCheck(scope.row.id)">查看</el-button>
                    </template>
                </el-table-column> -->

                <!-- <el-table-column align="center" label="从业人员"  width="80" min-width="10" >
                    <template slot-scope="scope">
                        <el-button size="small" type="info" @click="cyPersonCheck(scope.row.id)">查看</el-button>
                    </template>
                </el-table-column> -->

                <!-- <el-table-column align="center" label="危爆物品库室"  width="120" min-width="10" >
                    <template slot-scope="scope">
                        <el-button size="small" type="info" @click="roomCheck(scope.row.id)">查看</el-button>
                    </template>
                </el-table-column> -->

                <!-- <el-table-column align="center" label="安全检查记录"  width="120" min-width="15">
                    <template slot-scope="scope">
                        <el-button size="small" type="primary" @click="hotalCheck(scope.row.id)">查看</el-button>
                    </template>
                </el-table-column> -->
            </el-table>
        </div>

        <el-pagination
            background
            @size-change="handleSizeChange"
            @current-change="handleCurrentChange"
            :current-page="pageIndex"
            :page-sizes="pageRows"
            :page-size="pageSize"
            layout="total,jumper,prev, pager, next,sizes"
            :total="total"
            style="margin-bottom: 15px">
        </el-pagination>

        </div>
        <!-- 编辑对话框 -->
        <el-dialog v-cloak title="边境派出所辖区企业（矿点）登记表" @close="closeDialog('row')" center :fullscreen="fullscreen" :visible.sync="dialogShow" style="height: 100%" top="3vh" width="952px" >
            <!--解决了 el-dialog懒加载-->
            <div slot="footer" class="dialog-footer" style="position:relative;top: -55px;height:530px; display: none;">
                <iframe style="width: 100%;height: 600px" id="mainIframe" ref="mainIframe" name="mainIframe" src="../wordHtml/BoomWord.html" frameborder="0" scrolling="auto"></iframe>
            </div>

            <el-form :model="row" label-width="160px" class="demo-ruleForm" ref="row" :rules="rules">
                <div style="width: 100%;overflow: auto;height:100%;box-shadow: 0px 15px 10px -2px rgba(0, 0, 0, .04)">
                    <el-tabs type="border-card" v-model="activeName" @tab-click="handleClick">
                        <el-tab-pane name="first" label="基本信息">
                            <el-row>
                                <el-col :span="24">
                                    <el-form-item label="单位名称:" >
                                        <el-input v-model="row.unitp" style="width: 632px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="职工人数:" prop="zgrs">
                                        <el-input type="number" v-model.number="row.zgrs" placeholder="*必填项(输入整数)" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="生产作业点:" prop="sczyd">
                                        <el-input type="number" v-model.number="row.sczyd" placeholder="*必填项(输入整数)" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="消防等级:" prop="xfdj">
                                        <el-input type="number" v-model.number="row.xfdj" placeholder="*必填项(输入整数)" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="是否涉爆:">
                                        <el-radio v-model="row.sfsb" label="是" :disabled="isReadOnly">是</el-radio>
                                        <el-radio v-model="row.sfsb" label="否" :disabled="isReadOnly">否</el-radio>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="安装视频监控:">
                                        <el-radio v-model="row.azspjk" label="是" :disabled="isReadOnly">是</el-radio>
                                        <el-radio v-model="row.azspjk" label="否" :disabled="isReadOnly">否</el-radio>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="安全生产许可证号:" >
                                        <el-input v-model="row.aqscxkzh" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="爆破作业单位许可证号:" >
                                        <el-input v-model="row.bpzydwxkzh" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="采矿许可证号:" >
                                        <el-input v-model="row.ckxkzh" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="填表时间:" prop="writeTime">
                                        <el-date-picker
                                            style="width: 200px;" :disabled="isReadOnly"
                                            value-format="yyyy-MM-dd HH:mm"
                                            v-model="row.writeTime"
                                            type="datetime"
                                            placeholder="选择日期时间(必填)">
                                        </el-date-picker>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="24">
                                    <el-form-item label="地址:" >
                                        <el-input v-model="row.dz" style="width: 632px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="24" style="height: 100%;">
                                    <el-form-item label="经营范围:" >
                                        <el-input type="textarea" v-model="row.jyfw" :row="2" style="width: 632px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                            </el-row>
                        </el-tab-pane>
                        <el-tab-pane name="second" label="法人代表/负责人/治安保卫人员">
                            <el-row class="centerTitle">法人代表</el-row>
                            <el-row>
                                <el-col :span="12">
                                    <el-row>
                                        <el-col :span="24">
                                            <el-form-item label="姓名:" >
                                                <el-input v-model="row.frdbxm" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                            </el-form-item>
                                        </el-col>
                                    </el-row>
                                    <el-row>
                                        <el-col :span="24">
                                            <el-form-item  label="性别:" >
                                                <el-radio v-model="row.frdbxb" label="男" :disabled="isReadOnly">男</el-radio>
                                                <el-radio v-model="row.frdbxb" label="女" :disabled="isReadOnly">女</el-radio>
                                            </el-form-item>
                                        </el-col>
                                    </el-row>
                                    <el-row>
                                        <el-col :span="24">
                                            <el-form-item label="联系电话:" prop="frdblxdh">
                                                <el-input v-model="row.frdblxdh" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                            </el-form-item>
                                        </el-col>
                                    </el-row>
                                    <el-row>
                                        <el-col :span="24">
                                            <el-form-item label="身份证号码:" prop="frdbsfzh">
                                                <el-input v-model="row.frdbsfzh" style="width: 200px;" @input="idNumTransform(row.frdbsfzh, 'frdb')" :disabled="isReadOnly"></el-input>
                                            </el-form-item>
                                        </el-col>
                                    </el-row>
                                </el-col>
                                <el-col :span="12" style="height: 210px;">
                                    <el-form-item label="照片:">
                                        <el-upload
                                            ref='upload' :disabled="isReadOnly"
                                            class="avatar-uploader"
                                            :action="updateUrl"
                                            :http-request="httpRequest"
                                            :show-file-list="false"
                                            :on-success="handleAvatarSuccess1"
                                            :before-upload="beforeAvatarUpload" >
                                            <img v-if="frImageUrl" :src="frImageUrl" class="avatar">
                                            <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                        </el-upload>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="出生日期:" prop="frdbcsrq">
                                        <el-date-picker
                                            style="width: 200px" :disabled="isReadOnly"
                                            value-format="yyyy-MM-dd"
                                            v-model="frdbcsrq"
                                            type="date"
                                            placeholder="选择日期">
                                        </el-date-picker>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="民 族:" >
                                        <el-select v-model="row.frdbmz" placeholder="请选择" style="width: 200px;" :disabled="isReadOnly">
                                            <el-option
                                                v-for="item in nationOptions"
                                                :key="item"
                                                :label="item"
                                                :value="item">
                                            </el-option>
                                        </el-select>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="文化程度:" >
                                        <el-select v-model="row.frdbwhcd" placeholder="请选择" style="width: 200px;" :disabled="isReadOnly">
                                            <el-option
                                                v-for="item in cultureOptions"
                                                :key="item"
                                                :label="item"
                                                :value="item">
                                            </el-option>
                                        </el-select>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="婚姻状况:" >
                                        <el-select v-model="row.frdbhyzk" placeholder="请选择" style="width: 200px;" :disabled="isReadOnly">
                                            <el-option
                                                v-for="item in maritalStatusOptions"
                                                :key="item"
                                                :label="item"
                                                :value="item">
                                            </el-option>
                                        </el-select>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="籍  贯:" >
                                        <el-input v-model="row.frdbjg" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="政治面貌:" >
                                        <el-select v-model="row.frdbzzmm" placeholder="请选择" style="width: 200px;" :disabled="isReadOnly">
                                            <el-option
                                                v-for="item in politicsOptions"
                                                :key="item"
                                                :label="item"
                                                :value="item">
                                            </el-option>
                                        </el-select>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="24">
                                    <el-form-item label="工作地点(公司所在地):">
                                        <el-input v-model="row.frdbgzdd" style="width: 632px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row class="centerTitle">负责人</el-row>
                            <el-row>
                                <el-col :span="12">
                                    <el-row>
                                        <el-col :span="24">
                                            <el-form-item label="姓名:" >
                                                <el-input v-model="row.fzrxm" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                            </el-form-item>
                                        </el-col>
                                    </el-row>
                                    <el-row>
                                        <el-col :span="24">
                                            <el-form-item  label="性别:" >
                                                <el-radio v-model="row.fzrxb" label="男" :disabled="isReadOnly">男</el-radio>
                                                <el-radio v-model="row.fzrxb" label="女" :disabled="isReadOnly">女</el-radio>
                                            </el-form-item>
                                        </el-col>
                                    </el-row>
                                    <el-row>
                                        <el-col :span="24">
                                            <el-form-item label="联系电话:" prop="fzrlxdh">
                                                <el-input v-model="row.fzrlxdh" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                            </el-form-item>
                                        </el-col>
                                    </el-row>
                                    <el-row>
                                        <el-col :span="24">
                                            <el-form-item label="身份证号码:" prop="fzrsfzh">
                                                <el-input v-model="row.fzrsfzh" style="width: 200px;" @input="idNumTransform(row.fzrsfzh, 'fzr')" :disabled="isReadOnly"></el-input>
                                            </el-form-item>
                                        </el-col>
                                    </el-row>
                                </el-col>
                                <el-col :span="12" style="height: 210px;">
                                    <el-form-item label="照片:">
                                        <el-upload
                                            ref='upload' :disabled="isReadOnly"
                                            class="avatar-uploader"
                                            :action="updateUrl"
                                            :http-request="httpRequest02"
                                            :show-file-list="false"
                                            :on-success="handleAvatarSuccess2"
                                            :before-upload="beforeAvatarUpload02" >
                                            <img v-if="fzrImageUrl" :src="fzrImageUrl" class="avatar">
                                            <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                        </el-upload>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="出生日期:" prop="fzrcsrq">
                                        <el-date-picker
                                            style="width: 200px" :disabled="isReadOnly"
                                            value-format="yyyy-MM-dd"
                                            v-model="fzrcsrq"
                                            type="date"
                                            placeholder="选择日期">
                                        </el-date-picker>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="民 族:" >
                                        <el-select v-model="row.fzrmz" placeholder="请选择" style="width: 200px;" :disabled="isReadOnly">
                                            <el-option
                                                v-for="item in nationOptions"
                                                :key="item"
                                                :label="item"
                                                :value="item">
                                            </el-option>
                                        </el-select>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="文化程度:" >
                                        <el-select v-model="row.fzrwhcd" placeholder="请选择" style="width: 200px;" :disabled="isReadOnly">
                                            <el-option
                                                v-for="item in cultureOptions"
                                                :key="item"
                                                :label="item"
                                                :value="item">
                                            </el-option>
                                        </el-select>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="婚姻状况:" >
                                        <el-select v-model="row.fzrhyzk" placeholder="请选择" style="width: 200px;" :disabled="isReadOnly">
                                            <el-option
                                                v-for="item in maritalStatusOptions"
                                                :key="item"
                                                :label="item"
                                                :value="item">
                                            </el-option>
                                        </el-select>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="籍  贯:" >
                                        <el-input v-model="row.fzrjg" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="政治面貌:" >
                                        <el-select v-model="row.fzrzzmm" placeholder="请选择" style="width: 200px;" :disabled="isReadOnly">
                                            <el-option
                                                v-for="item in politicsOptions"
                                                :key="item"
                                                :label="item"
                                                :value="item">
                                            </el-option>
                                        </el-select>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="24">
                                    <el-form-item label="工作地点(公司所在地):">
                                        <el-input v-model="row.fzrgzdd" style="width: 632px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row class="centerTitle">治安保卫人员</el-row>
                            <el-row>
                                <el-col :span="12">
                                    <el-row>
                                        <el-col :span="24">
                                            <el-form-item label="姓名:" >
                                                <el-input v-model="row.zabwryxm" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                            </el-form-item>
                                        </el-col>
                                    </el-row>
                                    <el-row>
                                        <el-col :span="24">
                                            <el-form-item  label="性别:" >
                                                <el-radio v-model="row.zabwryxb" label="男" :disabled="isReadOnly">男</el-radio>
                                                <el-radio v-model="row.zabwryxb" label="女" :disabled="isReadOnly">女</el-radio>
                                            </el-form-item>
                                        </el-col>
                                    </el-row>
                                    <el-row>
                                        <el-col :span="24">
                                            <el-form-item label="联系电话:" prop="zabwrylxdh">
                                                <el-input v-model="row.zabwrylxdh" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                            </el-form-item>
                                        </el-col>
                                    </el-row>
                                    <el-row>
                                        <el-col :span="24">
                                            <el-form-item label="身份证号码:" prop="zabwrysfzh">
                                                <el-input v-model="row.zabwrysfzh" style="width: 200px;" @input="idNumTransform(row.zabwrysfzh, 'zabwry')" :disabled="isReadOnly"></el-input>
                                            </el-form-item>
                                        </el-col>
                                    </el-row>
                                </el-col>
                                <el-col :span="12" style="height: 210px;">
                                    <el-form-item label="照片:">
                                        <el-upload
                                            ref='upload' :disabled="isReadOnly"
                                            class="avatar-uploader"
                                            :action="updateUrl"
                                            :http-request="httpRequest03"
                                            :show-file-list="false"
                                            :on-success="handleAvatarSuccess3"
                                            :before-upload="beforeAvatarUpload03" >
                                            <img v-if="zabwryImageUrl" :src="zabwryImageUrl" class="avatar">
                                            <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                        </el-upload>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="出生日期:" prop="zabwrycsrq">
                                        <el-date-picker
                                            style="width: 200px" :disabled="isReadOnly"
                                            value-format="yyyy-MM-dd"
                                            v-model="zabwrycsrq"
                                            type="date"
                                            placeholder="选择日期">
                                        </el-date-picker>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="民 族:" >
                                        <el-select v-model="row.zabwrymz" placeholder="请选择" style="width: 200px;" :disabled="isReadOnly">
                                            <el-option
                                                v-for="item in nationOptions"
                                                :key="item"
                                                :label="item"
                                                :value="item">
                                            </el-option>
                                        </el-select>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="文化程度:" >
                                        <el-select v-model="row.zabwrywhcd" placeholder="请选择" style="width: 200px;" :disabled="isReadOnly">
                                            <el-option
                                                v-for="item in cultureOptions"
                                                :key="item"
                                                :label="item"
                                                :value="item">
                                            </el-option>
                                        </el-select>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="婚姻状况:" >
                                        <el-select v-model="row.zabwryhyzk" placeholder="请选择" style="width: 200px;" :disabled="isReadOnly">
                                            <el-option
                                                v-for="item in maritalStatusOptions"
                                                :key="item"
                                                :label="item"
                                                :value="item">
                                            </el-option>
                                        </el-select>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="12">
                                    <el-form-item label="籍  贯:" >
                                        <el-input v-model="row.zabwryjg" style="width: 200px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                                <el-col :span="12">
                                    <el-form-item label="政治面貌:" >
                                        <el-select v-model="row.zabwryzzmm" placeholder="请选择" style="width: 200px;" :disabled="isReadOnly">
                                            <el-option
                                                v-for="item in politicsOptions"
                                                :key="item"
                                                :label="item"
                                                :value="item">
                                            </el-option>
                                        </el-select>
                                    </el-form-item>
                                </el-col>
                            </el-row>

                            <el-row>
                                <el-col :span="24">
                                    <el-form-item label="工作地点(公司所在地):">
                                        <el-input v-model="row.zabwrygzdd" style="width: 632px;" :disabled="isReadOnly"></el-input>
                                    </el-form-item>
                                </el-col>
                            </el-row>
                        </el-tab-pane>
                        <el-tab-pane name="sixth" label="营业执照">
                            <div>
                                <h3>营业执照</h3>
                                <el-upload
                                    :action="updateUrl" :disabled="isReadOnly"
                                    :http-request="httpRequest11"
                                    list-type="picture-card"
                                    :on-preview="handleYyzzPreview"
                                    :on-remove="handleYyzzRemove"
                                    :before-upload="beforeAvatarUpload05"
                                    :on-change="handleChangeYyzzPhoto"
                                    :file-list="fileYyzzLists"
                                    style="margin-top: 10px;">
                                    <i class="el-icon-plus"></i>
                                </el-upload>
                                <el-dialog :visible.sync="dialogYyzzVisible" :append-to-body="true">
                                    <img width="100%" :src="dialogYyzzImageUrl" alt="" style="padding: 30px;">
                                </el-dialog>
                            </div>
                
                            <div style="width: 100%">
                                <div class="upload_warp_img_divList" v-for="(item,index) of yyzzImgLists">
                                    <div class="upload_warp_img_div_top" v-show="!isReadOnly">
                                        <img src="./../../images/ImgUpload/del.png" class="upload_warp_img_div_del" @click="fileYyzzDelIdPhoto(index,item.id)">
                                    </div>
                                    <el-image :src="getShowUrl(item.url)" :preview-src-list="srcList"></el-image>
                                </div>
                            </div>
                        </el-tab-pane>
                        <el-tab-pane name="seventh" label="安全生产许可证">
                            <div>
                                <h3>安全生产许可证</h3>
                                <el-upload
                                    :action="updateUrl" :disabled="isReadOnly"
                                    :http-request="httpRequest12"
                                    list-type="picture-card"
                                    :on-preview="handleAqscxkzPreview"
                                    :on-remove="handleAqscxkzRemove"
                                    :before-upload="beforeAvatarUpload05"
                                    :on-change="handleChangeAqscxkzPhoto"
                                    :file-list="fileAqscxkzLists"
                                    style="margin-top: 10px;">
                                    <i class="el-icon-plus"></i>
                                </el-upload>
                                <el-dialog :visible.sync="dialogAqscxkzVisible" :append-to-body="true">
                                    <img width="100%" :src="dialogAqscxkzImageUrl" alt="" style="padding: 30px;">
                                </el-dialog>
                            </div>
                
                            <div style="width: 100%">
                                <div class="upload_warp_img_divList" v-for="(item,index) of aqscxkzImgLists">
                                    <div class="upload_warp_img_div_top" v-show="!isReadOnly">
                                        <img src="./../../images/ImgUpload/del.png" class="upload_warp_img_div_del" @click="fileAqscxkzDelIdPhoto(index,item.id)">
                                    </div>
                                    <el-image :src="getShowUrl(item.url)" :preview-src-list="srcList2"></el-image>
                                </div>
                            </div>
                        </el-tab-pane>
                        <el-tab-pane name="eighth" label="采矿许可证">
                            <div>
                                <h3>采矿许可证</h3>
                                <el-upload
                                    :action="updateUrl" :disabled="isReadOnly"
                                    :http-request="httpRequest13"
                                    list-type="picture-card"
                                    :on-preview="handleCkxkzPreview"
                                    :on-remove="handleCkxkzRemove"
                                    :before-upload="beforeAvatarUpload05"
                                    :on-change="handleChangeCkxkzPhoto"
                                    :file-list="fileCkxkzLists"
                                    style="margin-top: 10px;">
                                    <i class="el-icon-plus"></i>
                                </el-upload>
                                <el-dialog :visible.sync="dialogCkxkzVisible" :append-to-body="true">
                                    <img width="100%" :src="dialogCkxkzImageUrl" alt="" style="padding: 30px;">
                                </el-dialog>
                            </div>
                
                            <div style="width: 100%">
                                <div class="upload_warp_img_divList" v-for="(item,index) of ckxkzImgLists">
                                    <div class="upload_warp_img_div_top" v-show="!isReadOnly">
                                        <img src="./../../images/ImgUpload/del.png" class="upload_warp_img_div_del" @click="fileCkxkzDelIdPhoto(index,item.id)">
                                    </div>
                                    <el-image :src="getShowUrl(item.url)" :preview-src-list="srcList3"></el-image>
                                </div>
                            </div>
                        </el-tab-pane>
                        <el-tab-pane name="ninth" label="爆破作业单位许可证">
                            <div>
                                <h3>爆破作业单位许可证</h3>
                                <el-upload
                                    :action="updateUrl" :disabled="isReadOnly"
                                    :http-request="httpRequest14"
                                    list-type="picture-card"
                                    :on-preview="handleBpzydwxkzPreview"
                                    :on-remove="handleBpzydwxkzRemove"
                                    :before-upload="beforeAvatarUpload05"
                                    :on-change="handleChangeBpzydwxkzPhoto"
                                    :file-list="fileBpzydwxkzLists"
                                    style="margin-top: 10px;">
                                    <i class="el-icon-plus"></i>
                                </el-upload>
                                <el-dialog :visible.sync="dialogBpzydwxkzVisible" :append-to-body="true">
                                    <img width="100%" :src="dialogBpzydwxkzImageUrl" alt="" style="padding: 30px;">
                                </el-dialog>
                            </div>
                
                            <div style="width: 100%">
                                <div class="upload_warp_img_divList" v-for="(item,index) of bpzydwxkzImgLists">
                                    <div class="upload_warp_img_div_top" v-show="!isReadOnly">
                                        <img src="./../../images/ImgUpload/del.png" class="upload_warp_img_div_del" @click="fileBpzydwxkzDelIdPhoto(index,item.id)">
                                    </div>
                                    <el-image :src="getShowUrl(item.url)" :preview-src-list="srcList4"></el-image>
                                </div>
                            </div>
                        </el-tab-pane>
                        <el-tab-pane name="tenth" label="相关开工批复">
                            <div>
                                <h3>相关开工批复</h3>
                                <el-upload
                                    :action="updateUrl" :disabled="isReadOnly"
                                    :http-request="httpRequest15"
                                    list-type="picture-card"
                                    :on-preview="handleXgkgpfPreview"
                                    :on-remove="handleXgkgpfRemove"
                                    :before-upload="beforeAvatarUpload05"
                                    :on-change="handleChangeXgkgpfPhoto"
                                    :file-list="fileXgkgpfLists"
                                    style="margin-top: 10px;">
                                    <i class="el-icon-plus"></i>
                                </el-upload>
                                <el-dialog :visible.sync="dialogXgkgpfVisible" :append-to-body="true">
                                    <img width="100%" :src="dialogXgkgpfImageUrl" alt="" style="padding: 30px;">
                                </el-dialog>
                            </div>
                
                            <div style="width: 100%">
                                <div class="upload_warp_img_divList" v-for="(item,index) of xgkgpfImgLists">
                                    <div class="upload_warp_img_div_top" v-show="!isReadOnly">
                                        <img src="./../../images/ImgUpload/del.png" class="upload_warp_img_div_del" @click="fileXgkgpfDelIdPhoto(index,item.id)">
                                    </div>
                                    <el-image :src="getShowUrl(item.url)" :preview-src-list="srcList5"></el-image>
                                </div>
                            </div>
                        </el-tab-pane>
                        <el-tab-pane name="third" label="重点岗位人员信息" :disabled="isTrue">
                            <div class="t-btns" style="background: #ffffff">
                                <el-button title='新增' @click="addZdgwryxxList()">
                                    <span class="glyphicon glyphicon glyphicon-plus"></span>
                                    新增
                                </el-button>
                                <el-button @click="deleteZdgwryxxList()">
                                    <span class="glyphicon glyphicon-trash"></span>
                                    删除
                                </el-button>
                            </div>

                            <!-- 表格 -->
                            <div style="width: 100%;margin-top: 10px;">
                                <el-table :data="importantCheckTbaleRows"
                                    :row-key="rowKey"
                                    ref="myTable02"
                                    @select='selectRows02'
                                    @select-all="selectRows02"
                                    :row-class-name="tableRowClassName"
                                    border fit highlight-current-row style="width: 100%;"
                                    :row-style="{height:'5px'}" :cell-style="{padding:'5px 0'}">

                                    <el-table-column type="selection" align="center"  :reserve-selection="true">
                                    </el-table-column>

                                    <el-table-column align="center" label="序号" width="60">
                                        <template slot-scope="scope">
                                            {{  (importantCheckPageIndex - 1) * importantCheckPageSize + scope.$index+1 }}
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="操作" width="100">
                                        <template slot-scope="scope">
                                            <el-button size="mini"  icon="el-icon-edit" @click="importantShowDetail(scope.row, scope.$index)" style="display:inline">编辑</el-button>
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="姓名">
                                        <template slot-scope="scope">
                                            {{ scope.row.name }}
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="性别">
                                        <template slot-scope="scope">
                                            {{ scope.row.sex }}
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="电话">
                                        <template slot-scope="scope">
                                            {{ scope.row.phone }}
                                        </template>
                                    </el-table-column>
                                </el-table>

                                <!-- 分页 -->
                                <el-pagination
                                    background
                                    :data="importantCheckTbaleRows"
                                    @current-change="importantHandleCurrentChange"
                                    :current-page="importantCheckPageIndex"
                                    :page-size="importantCheckPageSize"
                                    layout="total,jumper,prev, pager, next"
                                    :total="importantChecktotal"
                                    style="margin-top: 10px">
                                </el-pagination>
                            </div>
                        </el-tab-pane>
                        <el-tab-pane name="fourth" label="从业人员信息" :disabled="isTrue">
                            <div class="t-btns" style="background: #ffffff">
                                <el-button title='新增' @click="addCyryxxList()">
                                    <span class="glyphicon glyphicon glyphicon-plus"></span>
                                    新增
                                </el-button>
                                <el-button @click="deleteCyryxxList()">
                                    <span class="glyphicon glyphicon-trash"></span>
                                    删除
                                </el-button>
                            </div>

                            <!-- 表格 -->
                            <div style="width: 100%;margin-top: 10px;">
                                <el-table :data="cyCheckTbaleRows"
                                    :row-key="rowKey"
                                    ref="myTable03"
                                    @select='selectRows03'
                                    @select-all="selectRows03"
                                    :row-class-name="tableRowClassName"
                                    border fit highlight-current-row style="width: 100%;"
                                    :row-style="{height:'5px'}" :cell-style="{padding:'5px 0'}">

                                    <el-table-column type="selection" align="center"  :reserve-selection="true">
                                    </el-table-column>

                                    <el-table-column align="center" label="序号" width="60">
                                        <template slot-scope="scope">
                                            {{  (cyCheckPageIndex - 1) * cyCheckPageSize + scope.$index+1 }}
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="操作" width="100">
                                        <template slot-scope="scope">
                                            <el-button size="mini"  icon="el-icon-edit" @click="cyShowDetail(scope.row, scope.$index)" style="display:inline">编辑</el-button>
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="姓名" width="100">
                                        <template slot-scope="scope">
                                            {{ scope.row.name }}
                                        </template>
                                    </el-table-column>

                                    <!-- <el-table-column align="center" label="出生年月">
                                        <template slot-scope="scope">
                                            {{ scope.row.birthday===null ? scope.row.birthday : scope.row.birthday.slice(0, 10) }}
                                        </template>
                                    </el-table-column> -->

                                    <!-- <el-table-column align="center" label="文化程度">
                                        <template slot-scope="scope">
                                            {{ scope.row.education }}
                                        </template>
                                    </el-table-column> -->

                                    <!-- <el-table-column align="center" label="政治面貌">
                                        <template slot-scope="scope">
                                            {{ scope.row.identity }}
                                        </template>
                                    </el-table-column> -->

                                    <el-table-column align="center" label="联系电话" width="150">
                                        <template slot-scope="scope">
                                            {{ scope.row.phone }}
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="身份证号" width="180">
                                        <template slot-scope="scope">
                                            {{ scope.row.idNumber }}
                                        </template>
                                    </el-table-column>

                                    <!-- <el-table-column align="center" label="户籍地">
                                        <template slot-scope="scope">
                                            {{ scope.row.nativePlace }}
                                        </template>
                                    </el-table-column> -->

                                    <el-table-column align="center" label="现住址" min-width="100">
                                        <template slot-scope="scope">
                                            <el-tooltip effect="light" :content="scope.row.placeOfAbode" placement="top">
                                                <span>{{ scope.row.placeOfAbode }}</span>
                                            </el-tooltip>
                                        </template>
                                    </el-table-column>

                                    <!-- <el-table-column align="center" label="从事工种">
                                        <template slot-scope="scope">
                                            {{ scope.row.csgz }}
                                        </template>
                                    </el-table-column> -->
                                </el-table>

                                <!-- 分页 -->
                                <el-pagination
                                    background
                                    :data="cyCheckTbaleRows"
                                    @current-change="cyHandleCurrentChange"
                                    :current-page="cyCheckPageIndex"
                                    :page-size="cyCheckPageSize"
                                    layout="total,jumper,prev, pager, next"
                                    :total="cyChecktotal"
                                    style="margin-top: 10px">
                                </el-pagination>
                            </div>
                        </el-tab-pane>
                        <el-tab-pane name="fifth" label="危爆物品库室" :disabled="isTrue">
                            <div class="t-btns" style="background: #ffffff">
                                <el-button title='新增' @click="addWbwpksList()">
                                    <span class="glyphicon glyphicon glyphicon-plus"></span>
                                    新增
                                </el-button>
                                <el-button @click="deleteWbwpksList()">
                                    <span class="glyphicon glyphicon-trash"></span>
                                    删除
                                </el-button>
                            </div>

                            <!-- 表格 -->
                            <div style="width: 100%;margin-top: 10px;">
                                <el-table :data="roomCheckTbaleRows"
                                    :row-key="rowKey"
                                    ref="myTable04"
                                    @select='selectRows04'
                                    @select-all="selectRows04"
                                    :row-class-name="tableRowClassName"
                                    border fit highlight-current-row style="width: 100%;"
                                    :row-style="{height:'5px'}" :cell-style="{padding:'5px 0'}">

                                    <el-table-column type="selection" align="center"  :reserve-selection="true">
                                    </el-table-column>

                                    <el-table-column align="center" label="序号" width="60">
                                        <template slot-scope="scope">
                                            {{  (roomCheckPageIndex - 1) * roomCheckPageSize + scope.$index+1 }}
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="操作" width="100">
                                        <template slot-scope="scope">
                                            <el-button size="mini"  icon="el-icon-edit" @click="roomShowDetail(scope.row, scope.$index)" style="display:inline">编辑</el-button>
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="库室名称">
                                        <template slot-scope="scope">
                                            {{ scope.row.name }}
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="库室类型（炸药库、雷管库）">
                                        <template slot-scope="scope">
                                            {{ scope.row.type }}
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="存储量（吨）">
                                        <template slot-scope="scope">
                                            {{ scope.row.storageCapacity }}
                                        </template>
                                    </el-table-column>
                                </el-table>

                                <!-- 分页 -->
                                <el-pagination
                                    background
                                    :data="roomCheckTbaleRows"
                                    @current-change="roomHandleCurrentChange"
                                    :current-page="roomCheckPageIndex"
                                    :page-size="roomCheckPageSize"
                                    layout="total,jumper,prev, pager, next"
                                    :total="roomChecktotal"
                                    style="margin-top: 10px">
                                </el-pagination>
                            </div>
                        </el-tab-pane>
                    </el-tabs>
                </div>
            </el-form>

            <span slot="footer" class="dialog-footer">
                <el-button :style="{display:visible}" type="info" @click="dialogShow = false">取 消</el-button>
                <el-button :style="{display:visible}" type="success" @click="addRowSave('row')">提交</el-button>
            </span>
        </el-dialog>

        <!-- 重点岗位人员信息 -->
        <el-dialog v-cloak title="重点岗位人员信息" @close="closeDialogImportantPersonCheck('importantCheckTbaleRow')" center :visible.sync="importantDialog" top="3vh" style="height: 100%" width="952px" >
            <div class="runs-paginator-flex-container">
                <div style="width: 100%;overflow: auto;height:100%;">
                    <el-form :model="importantCheckTbaleRow"  label-width="120px" class="demo-ruleForm" ref="importantCheckTbaleRow" :rules="rules">
                        <el-tabs type="border-card" v-model="activeName02">
                            <el-tab-pane name="one" label="基本信息">
                                <el-row>
                                    <el-col :span="12">
                                        <el-row>
                                            <el-col :span="24">
                                                <el-form-item label="姓名:">
                                                    <el-input v-model="importantCheckTbaleRow.name" style="width: 200px;"></el-input>
                                                </el-form-item>
                                            </el-col>

                                        </el-row>
                                        <el-row>
                                            <el-col :span="24">
                                                <el-form-item label="别名:" >
                                                    <el-input v-model="importantCheckTbaleRow.alias" style="width: 200px;"></el-input>
                                                </el-form-item>
                                            </el-col>
                                        </el-row>
                                        <el-row>
                                            <el-col :span="24">
                                                <el-form-item label="性别:">
                                                    <el-radio v-model="importantCheckTbaleRow.sex" label="男">男</el-radio>
                                                    <el-radio v-model="importantCheckTbaleRow.sex" label="女">女</el-radio>
                                                </el-form-item>
                                            </el-col>
                                        </el-row>
                                        <el-row>
                                            <el-col :span="24">
                                                <el-form-item label="联系电话:" prop="phone">
                                                    <el-input v-model="importantCheckTbaleRow.phone" style="width: 200px;"></el-input>
                                                </el-form-item>
                                            </el-col>
                                        </el-row>
                                    </el-col>
                                    <el-col :span="12" style="height: 210px;">
                                        <el-form-item label="照片:">
                                            <el-upload
                                                ref='upload'
                                                class="avatar-uploader"
                                                :action="updateUrl"
                                                :http-request="httpRequest04"
                                                :show-file-list="false"
                                                :on-success="handleAvatarSuccess4"
                                                :before-upload="beforeAvatarUpload04">
                                                <img v-if="zdgwryImageUrl" :src="zdgwryImageUrl" class="avatar">
                                                <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                            </el-upload>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="12">
                                        <el-form-item label="身份证号码 :" prop="idNumber">
                                            <el-input v-model="importantCheckTbaleRow.idNumber" style="width: 200px;" @input="idNumTransform(importantCheckTbaleRow.idNumber, 'important')"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="12">
                                        <el-form-item label="民族 :" >
                                            <el-select v-model="importantCheckTbaleRow.nation" placeholder="请选择" style="width: 200px;">
                                                <el-option
                                                    v-for="item in nationOptions"
                                                    :key="item"
                                                    :label="item"
                                                    :value="item">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="12">
                                        <el-form-item label="出生日期 :" prop="birthday">
                                            <el-date-picker
                                                v-model="birthday"
                                                value-format="yyyy-MM-dd"
                                                type="date"
                                                placeholder="选择出生日期"
                                                style="width: 200px;">
                                            </el-date-picker>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="12">
                                        <el-form-item label="宗教信仰 :">
                                            <el-select v-model="importantCheckTbaleRow.religion" placeholder="请选择" style="width:200px">
                                                <el-option
                                                    v-for="item in religionOptions"
                                                    :key="item"
                                                    :label="item"
                                                    :value="item">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="12">
                                        <el-form-item label="政治面貌 :" >
                                            <el-select v-model="importantCheckTbaleRow.identity" placeholder="请选择" style="width: 200px;">
                                                <el-option
                                                    v-for="item in politicsOptions"
                                                    :key="item"
                                                    :label="item"
                                                    :value="item">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="12">
                                        <el-form-item label="文化程度 :" >
                                            <el-select v-model="importantCheckTbaleRow.education" placeholder="请选择" style="width: 200px;">
                                                <el-option
                                                    v-for="item in cultureOptions"
                                                    :key="item"
                                                    :label="item"
                                                    :value="item">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="12">
                                        <el-form-item label="婚姻状况 :" >
                                            <el-select v-model="importantCheckTbaleRow.maritalStatus" placeholder="请选择"  style="width:200px">
                                                <el-option
                                                    v-for="item in maritalStatusOptions"
                                                    :key="item"
                                                    :label="item"
                                                    :value="item">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="12">
                                        <el-form-item label="兵役情况 :" >
                                            <el-select v-model="importantCheckTbaleRow.militaryService" placeholder="请选择"  style="width:200px">
                                                <el-option
                                                    v-for="item in militaryOptions"
                                                    :key="item"
                                                    :label="item"
                                                    :value="item">
                                                </el-option>
                                            </el-select>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="12">
                                        <el-form-item label="职   业 :">
                                            <el-input v-model="importantCheckTbaleRow.currentOccupation" style="width:200px"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="12">
                                        <el-form-item label="从事本职业年限 :">
                                            <el-input v-model="importantCheckTbaleRow.term" style="width:200px"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="24">
                                        <el-form-item label="户籍地址 :" >
                                            <el-input v-model="importantCheckTbaleRow.placeOfDomicile" style="width: 632px;"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="24">
                                        <el-form-item label="去  向 :" >
                                            <el-input v-model="importantCheckTbaleRow.destination" style="width:632px"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="12">
                                        <el-form-item label="离开时间：" >
                                            <el-date-picker
                                                v-model="importantCheckTbaleRow.departureTime"
                                                value-format="yyyy-MM-dd"
                                                type="date"
                                                placeholder="选择离开时间"
                                                style="width: 200px;">
                                            </el-date-picker>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="12">
                                        <el-form-item label="离开原因：" >
                                            <el-input v-model="importantCheckTbaleRow.leaveReason" style="width:200px"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="24" style="height: 100%;">
                                        <el-form-item label="从业经历：" >
                                            <el-input
                                                style="width: 632px;"
                                                type="textarea"
                                                :rows="2"
                                                placeholder="请输入内容"
                                                v-model="importantCheckTbaleRow.cyjl">
                                            </el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="24" style="height: 100%;">
                                        <el-form-item label="备注：" >
                                            <el-input
                                                style="width: 632px;"
                                                type="textarea"
                                                :rows="2"
                                                placeholder="请输入内容"
                                                v-model="importantCheckTbaleRow.remark">
                                            </el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>
                            </el-tab-pane>
                            <el-tab-pane name="two" label="违法犯罪记录查询复印件">
                                <!-- <el-upload
                                    ref='upload'
                                    class="avatar-uploader avatar-uploader2"
                                    :action="updateUrl"
                                    :http-request="httpRequest05"
                                    :show-file-list="false"
                                    :on-success="handleAvatarSuccess5"
                                    :before-upload="beforeAvatarUpload05">
                                    <img v-if="zdgwryImageUrl02" :src="zdgwryImageUrl02" class="avatar avatar2">
                                    <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                </el-upload> -->
                                <div>
                                    <h3>违法犯罪记录查询复印件</h3>
                                    <el-upload
                                        :action="updateUrl" :disabled="isReadOnly"
                                        :http-request="httpRequest05"
                                        list-type="picture-card"
                                        :on-preview="handleWffzjlPreview"
                                        :on-remove="handleWffzjlRemove"
                                        :before-upload="beforeAvatarUpload05"
                                        :on-change="handleChangeWffzjlPhoto"
                                        :file-list="fileWffzjlLists"
                                        style="margin-top: 10px;">
                                        <i class="el-icon-plus"></i>
                                    </el-upload>
                                    <el-dialog :visible.sync="dialogWffzjlVisible" :append-to-body="true">
                                        <img width="100%" :src="dialogWffzjlImageUrl" alt="" style="padding: 30px;">
                                    </el-dialog>
                                </div>
                    
                                <div style="width: 100%">
                                    <div class="upload_warp_img_divList" v-for="(item,index) of wffzjlImgLists">
                                        <div class="upload_warp_img_div_top" v-show="!isReadOnly">
                                            <img src="./../../images/ImgUpload/del.png" class="upload_warp_img_div_del" @click="fileWffzjlDelIdPhoto(index,item.id)">
                                        </div>
                                        <el-image v-if="row.id" :src="getShowUrl(item.url)" :preview-src-list="srcList6"></el-image>
                                        <el-image v-else :src="item.url"></el-image>
                                    </div>
                                </div>
                            </el-tab-pane>
                            <el-tab-pane name="three" label="身份证复印件">
                                <!-- <el-upload
                                    ref='upload'
                                    class="avatar-uploader avatar-uploader2"
                                    :action="updateUrl"
                                    :http-request="httpRequest06"
                                    :show-file-list="false"
                                    :on-success="handleAvatarSuccess6"
                                    :before-upload="beforeAvatarUpload06">
                                    <img v-if="zdgwryImageUrl03" :src="zdgwryImageUrl03" class="avatar avatar2">
                                    <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                </el-upload> -->
                                <div>
                                    <h3>身份证复印件</h3>
                                    <el-upload
                                        :action="updateUrl" :disabled="isReadOnly"
                                        :http-request="httpRequest06"
                                        list-type="picture-card"
                                        :on-preview="handleSfzPreview"
                                        :on-remove="handleSfzRemove"
                                        :before-upload="beforeAvatarUpload05"
                                        :on-change="handleChangeSfzPhoto"
                                        :file-list="fileSfzLists"
                                        style="margin-top: 10px;">
                                        <i class="el-icon-plus"></i>
                                    </el-upload>
                                    <el-dialog :visible.sync="dialogSfzVisible" :append-to-body="true">
                                        <img width="100%" :src="dialogSfzImageUrl" alt="" style="padding: 30px;">
                                    </el-dialog>
                                </div>
                    
                                <div style="width: 100%">
                                    <div class="upload_warp_img_divList" v-for="(item,index) of sfzImgLists">
                                        <div class="upload_warp_img_div_top" v-show="!isReadOnly">
                                            <img src="./../../images/ImgUpload/del.png" class="upload_warp_img_div_del" @click="fileSfzDelIdPhoto(index,item.id)">
                                        </div>
                                        <el-image v-if="row.id" :src="getShowUrl(item.url)" :preview-src-list="srcList7"></el-image>
                                        <el-image v-else :src="item.url"></el-image>
                                    </div>
                                </div>
                            </el-tab-pane>
                            <el-tab-pane name="four" label="资格证复印件">
                                <!-- <el-upload
                                    ref='upload'
                                    class="avatar-uploader avatar-uploader2"
                                    :action="updateUrl"
                                    :http-request="httpRequest07"
                                    :show-file-list="false"
                                    :on-success="handleAvatarSuccess7"
                                    :before-upload="beforeAvatarUpload07">
                                    <img v-if="zdgwryImageUrl04" :src="zdgwryImageUrl04" class="avatar avatar2">
                                    <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                </el-upload> -->
                                <div>
                                    <h3>资格证复印件</h3>
                                    <el-upload
                                        :action="updateUrl" :disabled="isReadOnly"
                                        :http-request="httpRequest07"
                                        list-type="picture-card"
                                        :on-preview="handleZgzPreview"
                                        :on-remove="handleZgzRemove"
                                        :before-upload="beforeAvatarUpload05"
                                        :on-change="handleChangeZgzPhoto"
                                        :file-list="fileZgzLists"
                                        style="margin-top: 10px;">
                                        <i class="el-icon-plus"></i>
                                    </el-upload>
                                    <el-dialog :visible.sync="dialogZgzVisible" :append-to-body="true">
                                        <img width="100%" :src="dialogZgzImageUrl" alt="" style="padding: 30px;">
                                    </el-dialog>
                                </div>
                    
                                <div style="width: 100%">
                                    <div class="upload_warp_img_divList" v-for="(item,index) of zgzImgLists">
                                        <div class="upload_warp_img_div_top" v-show="!isReadOnly">
                                            <img src="./../../images/ImgUpload/del.png" class="upload_warp_img_div_del" @click="fileZgzDelIdPhoto(index,item.id)">
                                        </div>
                                        <el-image v-if="row.id" :src="getShowUrl(item.url)" :preview-src-list="srcList8"></el-image>
                                        <el-image v-else :src="item.url"></el-image>
                                    </div>
                                </div>
                            </el-tab-pane>
                        </el-tabs>
                    </el-form>
                </div>
            </div>

            <span slot="footer" class="dialog-footer">
                <el-button :style="{display:visible}" type="info" @click="importantDialog = false">取 消</el-button>
                <el-button :style="{display:visible}" type="success" @click="addImportantRowSave('importantCheckTbaleRow')">提交</el-button>
            </span>
        </el-dialog>

        <!-- 从业人员信息 -->
        <el-dialog v-cloak title="从业人员信息" @close="closeDialogcyPersonCheck('cyCheckTbaleRow')" center :visible.sync="cyDialog" top="3vh" style="height: 100%"  width="952px" >
            <div class="runs-paginator-flex-container">
                <div style="width: 100%;height:100%;box-shadow: 0px 15px 10px -2px rgba(0, 0, 0, .04)">
                    <el-form :model="cyCheckTbaleRow"  label-width="100px" class="demo-ruleForm" ref="cyCheckTbaleRow" :rules="rules">
                        <el-row>
                            <el-col :span="12">
                                <el-form-item label="姓名:" >
                                    <el-input v-model="cyCheckTbaleRow.name" style="width: 200px;"></el-input>
                                </el-form-item>
                            </el-col>
                            <el-col :span="12">
                                <el-form-item label="联系电话:" prop="phone">
                                    <el-input v-model="cyCheckTbaleRow.phone" style="width: 200px;"></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="12">
                                <el-form-item label="文化程度:" >
                                    <el-select v-model="cyCheckTbaleRow.education" placeholder="请选择" style="width: 200px">
                                        <el-option
                                            v-for="item in cultureOptions"
                                            :key="item"
                                            :label="item"
                                            :value="item">
                                        </el-option>
                                    </el-select>
                                </el-form-item>
                            </el-col>
                            <el-col :span="12">
                                <el-form-item label="政治面貌:" >
                                    <el-select v-model="cyCheckTbaleRow.identity" placeholder="请选择"  style="width: 200px">
                                        <el-option
                                            v-for="item in politicsOptions"
                                            :key="item"
                                            :label="item"
                                            :value="item">
                                        </el-option>
                                    </el-select>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="12">
                                <el-form-item label="身份证号:" prop="idNumber">
                                    <el-input v-model="cyCheckTbaleRow.idNumber" style="width: 200px;" @input="idNumTransform(cyCheckTbaleRow.idNumber, 'cyry')"></el-input>
                                </el-form-item>
                            </el-col>
                            <el-col :span="12">
                                <el-form-item label="出生年月:" prop="birthday">
                                    <el-date-picker
                                        v-model="birthday"
                                        value-format="yyyy-MM-dd"
                                        type="date"
                                        placeholder="选择出生年月"
                                        style="width: 200px;">
                                    </el-date-picker>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="从事工种:" >
                                    <el-input v-model="cyCheckTbaleRow.csgz" style="width: 639px;"></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="户籍地:" >
                                    <el-input v-model="cyCheckTbaleRow.nativePlace" style="width: 639px;"></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="现住址:" >
                                    <el-input v-model="cyCheckTbaleRow.placeOfAbode" style="width: 639px;"></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>
                    </el-form>
                </div>
            </div>

            <span slot="footer" class="dialog-footer">
                <el-button :style="{display:visible}" type="info" @click="cyDialog = false">取 消</el-button>
                <el-button :style="{display:visible}" type="success" @click="addCyRowSave('cyCheckTbaleRow')">提交</el-button>
            </span>
        </el-dialog>

        <!-- 危爆物品库室 -->
        <el-dialog v-cloak title="危爆物品库室" @close='closeDialogRoomCheck' center :visible.sync="roomDialog" top="3vh" style="height: 100%"  width="952px" >
            <div class="runs-paginator-flex-container">
                <div style="width: 100%;overflow: auto;height:100%;">
                    <el-form :model="roomCheckTbaleRow"  label-width="100px" class="demo-ruleForm">
                        <el-tabs type="border-card" v-model="activeName03" @tab-click="handleClick02">
                            <el-tab-pane name="one" label="基本信息">
                                <el-row>
                                    <el-col :span="12">
                                        <el-form-item label="库室名称:" >
                                            <el-input v-model="roomCheckTbaleRow.name" style="width: 200px;"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="12">
                                        <el-form-item label="库室类型:" >
                                            <el-input v-model="roomCheckTbaleRow.type" style="width: 200px;"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="12">
                                        <el-form-item label="存储量(吨):" >
                                            <el-input v-model="roomCheckTbaleRow.storageCapacity"
                                                onkeyup="this.value=this.value.replace(/[^\d.]/g,'');"
                                                style="width: 200px;">
                                            </el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="12">
                                        <el-form-item label="面积(平米):" >
                                            <el-input v-model="roomCheckTbaleRow.area"
                                            onkeyup="this.value=this.value.replace(/[^\d.]/g,'');"
                                            style="width: 200px;">
                                        </el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="12">
                                        <el-form-item label="安全评估:" >
                                            <el-input v-model="roomCheckTbaleRow.safetyAppraise" style="width: 200px;"></el-input>
                                        </el-form-item>
                                    </el-col>
                                    <el-col :span="12">
                                        <el-form-item label="建设时间:" >
                                            <el-date-picker
                                                clearable
                                                style="width: 200px;"
                                                v-model="roomCheckTbaleRow.buildTime"
                                                value-format="yyyy-MM-dd"
                                                type="date"
                                                placeholder="选择离开时间">
                                            </el-date-picker>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="24">
                                        <el-form-item label="库室位置 :" >
                                            <el-input v-model="roomCheckTbaleRow.site" style="width: 632px;"></el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>

                                <el-row>
                                    <el-col :span="24">
                                        <el-form-item label="周边描述 :" >
                                            <el-input
                                                style="width: 632px;"
                                                type="textarea"
                                                :rows="2"
                                                placeholder="请输入内容"
                                                v-model="roomCheckTbaleRow.description">
                                            </el-input>
                                        </el-form-item>
                                    </el-col>
                                </el-row>
                            </el-tab-pane>
                            <el-tab-pane name="two" label="正面照">
                                <!-- <el-upload
                                    ref='upload'
                                    class="avatar-uploader avatar-uploader2"
                                    :action="updateUrl"
                                    :http-request="httpRequest08"
                                    :show-file-list="false"
                                    :on-success="handleAvatarSuccess8"
                                    :before-upload="beforeAvatarUpload08">
                                    <img v-if="wbwpksImageUrl" :src="wbwpksImageUrl" class="avatar avatar2">
                                    <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                </el-upload> -->
                                <div>
                                    <h3>正面照</h3>
                                    <el-upload
                                        :action="updateUrl" :disabled="isReadOnly"
                                        :http-request="httpRequest08"
                                        list-type="picture-card"
                                        :on-preview="handleZmzPreview"
                                        :on-remove="handleZmzRemove"
                                        :before-upload="beforeAvatarUpload05"
                                        :on-change="handleChangeZmzPhoto"
                                        :file-list="fileZmzLists"
                                        style="margin-top: 10px;">
                                        <i class="el-icon-plus"></i>
                                    </el-upload>
                                    <el-dialog :visible.sync="dialogZmzVisible" :append-to-body="true">
                                        <img width="100%" :src="dialogZmzImageUrl" alt="" style="padding: 30px;">
                                    </el-dialog>
                                </div>
                    
                                <div style="width: 100%">
                                    <div class="upload_warp_img_divList" v-for="(item,index) of zmzImgLists">
                                        <div class="upload_warp_img_div_top" v-show="!isReadOnly">
                                            <img src="./../../images/ImgUpload/del.png" class="upload_warp_img_div_del" @click="fileZmzDelIdPhoto(index,item.id)">
                                        </div>
                                        <el-image v-if="row.id" :src="getShowUrl(item.url)" :preview-src-list="srcList9"></el-image>
                                        <el-image v-else :src="item.url"></el-image>
                                    </div>
                                </div>
                            </el-tab-pane>
                            <el-tab-pane name="three" label="侧面照">
                                <!-- <el-upload
                                    ref='upload'
                                    class="avatar-uploader avatar-uploader2"
                                    :action="updateUrl"
                                    :http-request="httpRequest09"
                                    :show-file-list="false"
                                    :on-success="handleAvatarSuccess9"
                                    :before-upload="beforeAvatarUpload09">
                                    <img v-if="wbwpksImageUrl02" :src="wbwpksImageUrl02" class="avatar avatar2">
                                    <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                </el-upload> -->
                                <div>
                                    <h3>侧面照</h3>
                                    <el-upload
                                        :action="updateUrl" :disabled="isReadOnly"
                                        :http-request="httpRequest09"
                                        list-type="picture-card"
                                        :on-preview="handleCmzPreview"
                                        :on-remove="handleCmzRemove"
                                        :before-upload="beforeAvatarUpload05"
                                        :on-change="handleChangeCmzPhoto"
                                        :file-list="fileCmzLists"
                                        style="margin-top: 10px;">
                                        <i class="el-icon-plus"></i>
                                    </el-upload>
                                    <el-dialog :visible.sync="dialogCmzVisible" :append-to-body="true">
                                        <img width="100%" :src="dialogCmzImageUrl" alt="" style="padding: 30px;">
                                    </el-dialog>
                                </div>
                    
                                <div style="width: 100%">
                                    <div class="upload_warp_img_divList" v-for="(item,index) of cmzImgLists">
                                        <div class="upload_warp_img_div_top" v-show="!isReadOnly">
                                            <img src="./../../images/ImgUpload/del.png" class="upload_warp_img_div_del" @click="fileCmzDelIdPhoto(index,item.id)">
                                        </div>
                                        <el-image v-if="row.id" :src="getShowUrl(item.url)" :preview-src-list="srcList10"></el-image>
                                        <el-image v-else :src="item.url"></el-image>
                                    </div>
                                </div>
                            </el-tab-pane>
                            <el-tab-pane name="four" label="航拍照">
                                <!-- <el-upload
                                    ref='upload'
                                    class="avatar-uploader avatar-uploader2"
                                    :action="updateUrl"
                                    :http-request="httpRequest10"
                                    :show-file-list="false"
                                    :on-success="handleAvatarSuccess10"
                                    :before-upload="beforeAvatarUpload10">
                                    <img v-if="wbwpksImageUrl03" :src="wbwpksImageUrl03" class="avatar avatar2">
                                    <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                </el-upload> -->
                                <div>
                                    <h3>航拍照</h3>
                                    <el-upload
                                        :action="updateUrl" :disabled="isReadOnly"
                                        :http-request="httpRequest10"
                                        list-type="picture-card"
                                        :on-preview="handleHpzPreview"
                                        :on-remove="handleHpzRemove"
                                        :before-upload="beforeAvatarUpload05"
                                        :on-change="handleChangeHpzPhoto"
                                        :file-list="fileHpzLists"
                                        style="margin-top: 10px;">
                                        <i class="el-icon-plus"></i>
                                    </el-upload>
                                    <el-dialog :visible.sync="dialogHpzVisible" :append-to-body="true">
                                        <img width="100%" :src="dialogHpzImageUrl" alt="" style="padding: 30px;">
                                    </el-dialog>
                                </div>
                    
                                <div style="width: 100%">
                                    <div class="upload_warp_img_divList" v-for="(item,index) of hpzImgLists">
                                        <div class="upload_warp_img_div_top" v-show="!isReadOnly">
                                            <img src="./../../images/ImgUpload/del.png" class="upload_warp_img_div_del" @click="fileHpzDelIdPhoto(index,item.id)">
                                        </div>
                                        <el-image v-if="row.id" :src="getShowUrl(item.url)" :preview-src-list="srcList11"></el-image>
                                        <el-image v-else :src="item.url"></el-image>
                                    </div>
                                </div>
                            </el-tab-pane>
                            <el-tab-pane name="five" label="危爆物品库室管理人员">
                                <el-button size="small" class="el-icon-plus" type="primary" @click="addroomPerson()">新增</el-button>
                                <el-table :data="roomPersonRows"
                                    border fit highlight-current-row
                                    style="width: 100%;margin-top: 10px;"
                                    :row-style="{height:'5px'}"
                                    :cell-style="{padding:'5px 0'}">
                                    <el-table-column align="center" label="序号" width="50">
                                        <template slot-scope="scope">
                                            {{  scope.$index+1 }}
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="操作" width="200">
                                        <template slot-scope="scope">
                                            <el-button size="mini"  icon="el-icon-edit-outline" @click="editroomPerson(scope.row, scope.$index)">编辑</el-button>
                                            <el-button size="mini" type="danger" icon="el-icon-delete" @click="deleteroomPerson(scope.row.id, scope.$index)">删除</el-button>
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="姓名" width="100">
                                        <template slot-scope="scope">
                                            {{ scope.row.name }}
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="职务" width="100">
                                        <template slot-scope="scope">
                                            {{ scope.row.duty }}
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="联系电话" width="160">
                                        <template slot-scope="scope">
                                            {{ scope.row.phone }}
                                        </template>
                                    </el-table-column>

                                    <el-table-column align="center" label="身份证号" min-width="180">
                                        <template slot-scope="scope">
                                            {{ scope.row.idNumber }}
                                        </template>
                                    </el-table-column>
                                </el-table>
                            </el-tab-pane>
                        </el-tabs>
                    </el-form>
                </div>
            </div>

            <span slot="footer" class="dialog-footer">
                <el-button type="info" @click="roomDialog = false">取 消</el-button>
                <el-button type="success" @click="addRoomRowSave()">提交</el-button>
            </span>
        </el-dialog>

        <!-- 安全检查记录 -->
        <el-dialog v-cloak title="安全检查记录" @close='closeDialogHotalCheck' center :fullscreen="fullscreen" :visible.sync="hotalDialog" top="3vh" style="height: 100%"  width="1200px" >
            <div class="runs-paginator-flex-container">
                <div style="width: 600px;" v-if="hotalShowOrNo">
                    <!--  :row-key="SafeCheckrowKey" 多选-->
                    <el-table :data="safeCheckTbaleRows"
                        border fit highlight-current-row style="width: 100%;"
                        :row-style="{height:'5px'}" :cell-style="{padding:'5px 0'}">

                        <el-table-column align="center" label="序号" width="50">
                            <template slot-scope="scope">
                                {{  (safeCheckPageIndex - 1) * safeCheckPageSize +scope.$index+1 }}
                            </template>
                        </el-table-column>

                        <el-table-column align="center" label="时间" width="180">
                            <template slot-scope="scope">
                                {{ scope.row.writeTime }}
                            </template>
                        </el-table-column>

                        <!-- <el-table-column align="center" label="检查单位" width="100*">
                            <template slot-scope="scope">
                                {{ scope.row.jcdw }}
                            </template>
                        </el-table-column> -->

                        <el-table-column align="center" label="检查人员" min-width="120">
                            <template slot-scope="scope">
                                {{ scope.row.policeVisitForm.fillPerson }}
                            </template>
                        </el-table-column>

                        <el-table-column align="center" label="操作" width="220">
                            <template slot-scope="scope">
                                <el-button size="small" type="info" @click="hotalShowDetail(scope.row)">查看详情</el-button>
                                <el-button size="mini" type="primary" icon="el-icon-download" @click="exportToExcel(scope.row.id, scope.row.dwmc)">导出Excel</el-button>
                            </template>
                        </el-table-column>
                    </el-table>

                    <el-pagination
                        background
                        :data="safeCheckTbaleRows"
                        @current-change="hotalHandleCurrentChange"
                        :current-page="safeCheckPageIndex"
                        :page-size="safeCheckPageSize"
                        layout="total,jumper,prev, pager, next"
                        :total="safeChecktotal"
                        style="margin-top: 10px">
                    </el-pagination>
                </div>

                <div style="width: 600px;overflow: auto" v-if="hotalShowOrNo">
                    <el-form :model="safeCheckTbaleRow"  label-width="200px" class="demo-ruleForm">
                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="检查单位:" >
                                    <el-input v-model="safeCheckTbaleRow.jcdw" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="检查人员:">
                                    <el-input v-model="policeVisitForm.fillPerson" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>
                        
                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="检查时间:" >
                                    <el-input v-model="safeCheckTbaleRow.jcsj" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="单位名称:" >
                                    <el-input v-model="safeCheckTbaleRow.dwmc" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="单位地址:" >
                                    <el-input v-model="safeCheckTbaleRow.dwdz" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="法人代表:" >
                                    <el-input v-model="safeCheckTbaleRow.frdbxm" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="法人代表(联系方式):" >
                                    <el-input v-model="safeCheckTbaleRow.frdblxdh" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="治安保卫负责人:" >
                                    <el-input v-model="safeCheckTbaleRow.zabwryxm" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="治安保卫负责人(联系方式):" >
                                    <el-input v-model="safeCheckTbaleRow.zabwrylxdh" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="安全许可证号:" >
                                    <el-input v-model="safeCheckTbaleRow.aqscxkzh" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="爆破作业单位许可证号:" >
                                    <el-input v-model="safeCheckTbaleRow.bpzydwxkzh" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="采矿许可证号:" >
                                    <el-input v-model="safeCheckTbaleRow.ckxkzh" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="涉爆企业性质:" >
                                    <el-checkbox-group v-model="safeCheckTbaleRow.sbqyArray">
                                        <el-checkbox label="1" onclick="return false">营业性</el-checkbox>
                                        <el-checkbox label="2" onclick="return false">非营业性</el-checkbox>
                                    </el-checkbox-group>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="涉爆项目（勾选） :" >
                                    <el-checkbox-group v-model="safeCheckTbaleRow.sbxmArray">
                                        <el-checkbox label="1" style="width: 40px;" onclick="return false">生产</el-checkbox>
                                        <el-checkbox label="2" style="width: 40px;" onclick="return false">销售</el-checkbox>
                                        <el-checkbox label="3" style="width: 40px;" onclick="return false">运输</el-checkbox>
                                        <el-checkbox label="4" style="width: 40px;" onclick="return false">存储</el-checkbox>
                                        <el-checkbox label="5" style="width: 40px;" onclick="return false">使用</el-checkbox>
                                    </el-checkbox-group>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <!-- <div class="check_title"><span>专用库类别及数量：</span></div> -->
                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="炸药专用库数量：" >
                                    <el-input v-model="safeCheckTbaleRow.zyzyksl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="民爆移动库数量：" >
                                    <el-input v-model="safeCheckTbaleRow.mbydksl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <!-- <div class="check_title"><span>专用库核定储存量：</span></div> -->
                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="炸药库(吨)：" >
                                    <el-input v-model="safeCheckTbaleRow.zykccl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="雷管库(吨):" >
                                    <el-input v-model="safeCheckTbaleRow.lgkccl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24" style="height: 100%;">
                                <el-form-item label="专用库通过安全评估情况:" >
                                    <el-input type="textarea" :rows="2" v-model="safeCheckTbaleRow.zyktgaqpgqk" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="工程技术员数量(个):" >
                                    <el-input v-model="safeCheckTbaleRow.gcjsysl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="爆破员数量(个):" >
                                    <el-input v-model="safeCheckTbaleRow.bpysl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="安全员数量(个):" >
                                    <el-input v-model="safeCheckTbaleRow.aqysl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="保管员数量(个):" >
                                    <el-input v-model="safeCheckTbaleRow.bgysl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>
                    </el-form>

                    <table class="table table-bordered">
                        <!-- <caption>检查内容</caption> -->
                        <div class="check_title"><span>检查内容：</span></div>

                        <thead>
                            <tr>
                                <th rowspan="2" style="width: 36px;">序号</th>
                                <th rowspan="2">检查内容</th>
                                <th rowspan="1" colspan="2">法律依据</th>
                                <th rowspan="2" style="width: 36px;">是否合格</th>
                                <!-- <th rowspan="2">不合格</th> -->
                            </tr>
                            <tr>
                                <th rowspan="1">违反项</th>
                                <th rowspan="1">处罚项</th>
                            </tr>
                        </thead>

                        <tbody>
                            <template>
                                <tr>
                                    <td>1</td>
                                    <td>民爆物品从业单位主要负责人未展行 安全管理职责导致伤亡事故, 尚不构成犯罪的</td>
                                    <td>《民用爆炸物品安全管 理条例》第5条第1款</td>
                                    <td>《民用爆炸物品安全管理条例》第52条</td>
                                    <td>
                                        <!--<el-checkbox-group v-model="safeCheckTbaleRow.jcqkArray">
                                            <el-checkbox lable="1"></el-checkbox>
                                        </el-checkbox-group>-->
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="1" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>爆破作业是否属于合法的生产活动</td>
                                    <td>《民用爆炸物品安全管 理条例》第31条第1项</td>
                                    <td>《民用爆炸物品安全管理条例》第48条第4项和第4款</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="2" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>爆破作业单位跨省、自治区、直辖市 从事爆破作业的,是否事先向 爆破作业所在地公安机关报告</td>
                                    <td>《民用爆炸物品安全管 理条例》第36条</td>
                                    <td>《民用爆炸物品安全管理条例》 第48条第2项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="3" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>民爆物品是否存放在符合国家有关 标准和规范的民用爆炸物专用仓库</td>
                                    <td>《民用爆炸物品安全管 理条例》第31条第2 项第40条</td>
                                    <td>《民用爆炸物品安全管理条例》 第49条第3项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="4" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td>爆破作业单位是否按其资质等级 承接爆破项目,爆破作业人员是否 按其资质等级从事爆破作业。</td>
                                    <td>《民用爆炸物品安全管 理条例》第34条</td>
                                    <td>《民用爆炸物品安全管理条例》              第48条第1项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="5" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>6</td>
                                    <td>未经许可,生产、销售、购买、 运输民爆物品,从事爆破作业的</td>
                                    <td>《民用爆炸物品安全管 理条例》第3条第2款</td>
                                    <td>《民用爆炸物品安全管理条例》第44条第4款</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="6" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>7</td>
                                    <td>转让、出借、转借、抵押、赠送、私罩 或者非法持有民爆物品的</td>
                                    <td>《民用爆炸物品安全管理条例》 第3条第3款</td>
                                    <td>《民用爆炸物品安全管理条例》 第50条第3项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="7" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>8</td>
                                    <td>注反安全管理制度, 致使民爆物品丢失、被盗、被抢的</td>
                                    <td>《民用爆炸物品安全管理条例》 第50条第1项</td>
                                    <td>《民用爆炸物品安全管理条例》                              第50条第1项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="8" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>9</td>
                                    <td>民爆物品丢失,被盗,被抢,未按规定| 向当地公安机关报告或者故意隐满不 报的</td>
                                    <td>(民用爆炸物品安全管理条例》  第41条第4项</td>
                                    <td>《民用爆炸物品安全管理条例》                              第50条第2项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="9" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>10</td>
                                    <td>民爆从业单位未依法设置 治安保卫机构或者配备治安保卫人员, 设置技术防范设施</td>
                                    <td>《企业事业单位内部治 安保卫条例》第7条：《民用爆炸物品安全管理条例》                             第5条第2款</td>
                                    <td>《企业事业单位内部治 安保卫条例》第19条:《民用爆炸物品安全管理条例》                                  第49条第1项、第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="10" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>11</td>
                                    <td>民爆作业单位是否对爆破作业人员，安全管理人员、仓库管理人员 进行专业技术培训</td>
                                    <td>企业事业单位内部治 安保卫条例》第9条: 《民用爆炸物品安全管 理条例》第33条</td>
                                    <td>企业事业单位内部治 安保卫条例》第19条:(民 用爆炸物品安全管理条例》     第48条第4项和第4款</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="11" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>12</td>
                                    <td>爆破作业人员是否经当地市级公安机 关考核合格,并在取得《爆破作业人员 许可证》后从事爆破作业</td>
                                    <td>《民用爆炸物品安全管理条例》 第33条</td>
                                    <td>《民用娱炸物品安全管理条例》                             第48条第4项和第4软</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="12" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>13</td>
                                    <td>未建立安全管理制度、岗位安全责任制 度,制定安全防范描描和事故应急预 案,设置安全管理机构或配备专取安全 管理人员</td>
                                    <td>《企业事业单位内部治安保卫条例》第8条: 民用爆炸物品安全管理条例》 第5条第3款</td>
                                    <td>《企业事业单位内部治 安保卫条例》第19条:《民用爆炸物品安全管理条例》   第49条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="13" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>14</td>
                                    <td>是否建立入库检查、登记制度,收存和 发放民用爆炸物品是否进行登记, 账目清楚、账物相符</td>
                                    <td>(民用爆炸物品安全管理条例》 第41条第1项</td>
                                    <td>《民用爆炸物品安全管理 条例》第48条第3项、       第49条第2项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="14" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>16</td>
                                    <td>专用仓库是否指定专人管理、看护,是否严禁无关人员进入库区内,严禁在库区内吸烟和用火、严禁带易燃易爆物品| 入库区,严禁在库房内住宿和进行其他 活动</td>
                                    <td>《民用爆炸物品安全管理条例》 第41条第3项</td>
                                    <td>《民用爆炸物品安全管理 条例》                              第49 条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="16" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>17</td>
                                    <td>爆炸作业现场临时存放民爆物品的,是否具备临时存放的条件, 并设专人管理、看护</td>
                                    <td>《民用爆炸物品安全管理条例》      第42条</td>
                                    <td>《民用爆炸物品安全管理条例》                              第49条第 3项,第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="17" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>18</td>
                                    <td>生产、销售全业和爆被作业单位未建立 民牌物品登记制度,如实将生产,销售、 购买、运输、储存、使用民爆物品的品 种,数量和流向信息输入计算机系统</td>
                                    <td>《民用爆炸物品安全管理条例》               第7条第2款</td>
                                    <td>《民用爆炸物品安全管理条例》                            第46条第6项, 第48条第3项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="18" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>19</td>
                                    <td>民爆生产企业未对民爆物品数出警示 标识、登记标识,对需管编码打号的</td>
                                    <td>《民用爆炸物品安全管理条例》 第15条</td>
                                    <td>(民用爆炸物品安全管 理条例》 第46条第1项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="19" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>20</td>
                                    <td>爆破作业单位是否如实记载领取、发放 民牌物品的品种、种类、编号,以及领 取、发放人员姓名</td>
                                    <td>《民用爆炸物品安全管理条例》 第37条第1款</td>
                                    <td>《民用爆炸物品安全管理条例》                 第46条第6项, 49条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="20" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>21</td>
                                    <td>领取民爆物品不得超过当班用量,作业 后剩余的必须当班清退回库,</td>
                                    <td>《民用爆炸物品安全管理条例》 第37条第1款</td>
                                    <td>《民用爆炸物品安全管退条例》 第48条第3项, 49条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="21" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>22</td>
                                    <td>爆孩作业单位是否*领取,发放民爆物 品的原始记录保存2年备查</td>
                                    <td>(民用爆炸物品安全管理条例》 第37条第2款 1</td>
                                    <td>《民用爆炸物品安全管理条例》 第49条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="22" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>23</td>
                                    <td>民爆物品变质和过期的,是否及时请理 出库,并登记造册报请相关部门, 予以销毁</td>
                                    <td>《民用爆炸物品安全管理条例》 第43条</td>
                                    <td>《民用爆炸物品安全管理条例》 第49条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="23" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>24</td>
                                    <td>销售、购买民爆物品, 是否按规定通过银行账户进行交易, 是否违规使用现金或者实物进行交易 1</td>
                                    <td>(民用爆炸物品安全管 理条例》 第23条第1款</td>
                                    <td>《民用爆炸物品安全管理条例》 第46条第3项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="24" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>25</td>
                                    <td>销售企业是否按规定将购买单位的许 可证、银行账户转账凭证、经办人的身 份证明复印件保存2年备查</td>
                                    <td>(民用爆炸物品安全管 理条例) 第23条第2款</td>
                                    <td>《民用爆炸物品安全管理条例》 第46条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="25" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>26</td>
                                    <td>销售、购买民爆物的单位,是否在成交 之后3日内将购买品种、数量 向所在地公安机关备案</td>
                                    <td>《民用爆炸物品安全管理条例》 第24条</td>
                                    <td>《民用爆炸物品安全管理条例》 第46条第5款</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="26" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>27</td>
                                    <td>进出口民爆物,是否将购买品种,数量 向收货地或出境口岸所在地公安机关 备案</td>
                                    <td>《民用爆炸物品安全管理条例》 第25条</td>
                                    <td>《民用爆炸物品安全管理条例》 第46条第5款</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="27" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>28</td>
                                    <td>民爆物品运抵后,收获单位未按规定在 3日内将《民爆物品运输许可证》交回 公安机关核销</td>
                                    <td>《民用爆炸物品安全管理条例》 第29条</td>
                                    <td>《民用爆炸物品安全管理条例》 第46条第7项 1</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="28" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>29</td>
                                    <td>携带民爆物品搭乘公共交通工具或者 进入公共场所;邮寄或者在托运的货 物、行李、包裹、邮件中夹带民爆物的|</td>
                                    <td>民用爆炸物品安全管 理条例》 第30条、31条</td>
                                    <td>《民用爆炸物品安全管理条例》 第51条</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="29" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>30</td>
                                    <td>经由道路运输民爆物品,未携带(民爆| 物品运输许可证》的</td>
                                    <td>《民用爆炸物品安全管 理条例》 第28条第1项</td>
                                    <td>《民用爆炸物品安全管 理条例》第47条第2项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="30" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>31</td>
                                    <td>经由道路运输民爆物品的车辆。 装载民爆物品的车照载人的</td>
                                    <td>《民用爆炸物品安全管]理条例》 第28条第2项</td>
                                    <td>《民用爆炸物品安全管 理条例》第47条第6项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="31" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>32</td>
                                    <td>运输车辆未按规定基挂或安装符合国 家标准的易燃品爆危险品答示标志的</td>
                                    <td>《民用爆炸物品安全管 理条例》 第28条第2项</td>
                                    <td>《民用爆炸物品安全管 理条例》第47条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="32" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>33</td>
                                    <td>经由道路运输民爆物品, 未按规定的路线行驶的</td>
                                    <td>《民用爆炸物品安全管 理条例》 第28条第5项 </td>
                                    <td>《民用爆炸物品安全管 理条例》第47条第5项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="33" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>34</td>
                                    <td>经由道路运输民燥物品,途中经体没有 专人看守或在许可以外地点经停的</td>
                                    <td>《民用爆炸物品安全管 理条例》 第28条第5项</td>
                                    <td>《民用爆炸物品安全管 理条例》第47条第5项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="34" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>35</td>
                                    <td>经由道路运输民爆物品,速反运输许可 事项的(混装民爆物品、车辆保持安全 车速、装卸现场设置警戒线禁止无关人 员出入)</td>
                                    <td>《民用爆炸物品安全管 理条例》 第28条第6项</td>
                                    <td>《民用娱炸物品安全管 理条例》第47条第1项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="35" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>36</td>
                                    <td>出现仓险情况未立即采取应急者施并 报告当地公安机关的</td>
                                    <td>《民用爆炸物品安全管理条例》 第28条第7项</td>
                                    <td>《民用爆炸物品安全管 理条例》第47条第7项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="36" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td colspan="4" >以上有两项不合格将依法予以处罚</td>
                                </tr>
                                <tr>
                                    <td>处理情况</td>
                                    <td colspan="4"><el-input v-model="safeCheckTbaleRow.clqk" type="textarea" :rows="2" readonly></el-input></td>
                                </tr>
                                <tr>
                                    <td>备注</td>
                                    <td colspan="4"><el-input v-model="safeCheckTbaleRow.bz" type="textarea" :rows="2" readonly></el-input></td>
                                </tr>
                                <!-- <tr>
                                    <td>检查人员签名：</td>
                                    <td colspan="4"><input v-model="safeCheckTbaleRow.jcryqm" type="text"></td>
                                </tr> -->
                                <!-- <tr>
                                    <td>被检查单位负责人签名：</td>
                                    <td colspan="4"><input v-model="safeCheckTbaleRow.bjcdwfzrqm" type="text"></td>
                                </tr> -->
                                <tr>
                                    <td colspan="5" rowspan="2">
                                        执表说明:<br>1、此表只用于检查组在检查民牌从此单位过程中使用。由检查组人员精写,
                                        <br>2、检查工作结束后,要将存在问题场所的处理情况精写到处理情况一些,填写的内容包括场新
                                        名称、存在的问题和处理的结果。
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </div>

                <div style="width: 100%;overflow: auto" v-else>
                    <el-form :model="safeCheckTbaleRow"  label-width="200px" class="demo-ruleForm">
                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="检查单位:" >
                                    <el-input v-model="safeCheckTbaleRow.jcdw" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="检查人员:">
                                    <el-input v-model="policeVisitForm.fillPerson" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="检查时间:" >
                                    <el-input v-model="safeCheckTbaleRow.jcsj" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="单位名称:" >
                                    <el-input v-model="safeCheckTbaleRow.dwmc" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="单位地址:" >
                                    <el-input v-model="safeCheckTbaleRow.dwdz" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="法人代表:" >
                                    <el-input v-model="safeCheckTbaleRow.frdbxm" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="法人代表(联系方式):" >
                                    <el-input v-model="safeCheckTbaleRow.frdblxdh" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="治安保卫负责人:" >
                                    <el-input v-model="safeCheckTbaleRow.zabwryxm" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="治安保卫负责人(联系方式):" >
                                    <el-input v-model="safeCheckTbaleRow.zabwrylxdh" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="安全许可证号:" >
                                    <el-input v-model="safeCheckTbaleRow.aqscxkzh" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="爆破作业单位许可证号:" >
                                    <el-input v-model="safeCheckTbaleRow.bpzydwxkzh" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="采矿许可证号:" >
                                    <el-input v-model="safeCheckTbaleRow.ckxkzh" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="涉爆企业性质:" >
                                    <el-checkbox-group v-model="safeCheckTbaleRow.sbqyArray">
                                        <el-checkbox label="1" onclick="return false">营业性</el-checkbox>
                                        <el-checkbox label="2" onclick="return false">非营业性</el-checkbox>
                                    </el-checkbox-group>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="涉爆项目（勾选） :" >
                                    <el-checkbox-group v-model="safeCheckTbaleRow.sbxmArray">
                                        <el-checkbox label="1" style="width: 40px;" onclick="return false">生产</el-checkbox>
                                        <el-checkbox label="2" style="width: 40px;" onclick="return false">销售</el-checkbox>
                                        <el-checkbox label="3" style="width: 40px;" onclick="return false">运输</el-checkbox>
                                        <el-checkbox label="4" style="width: 40px;" onclick="return false">存储</el-checkbox>
                                        <el-checkbox label="5" style="width: 40px;" onclick="return false">使用</el-checkbox>
                                    </el-checkbox-group>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <!-- <div class="check_title"><span>专用库类别及数量：</span></div> -->
                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="炸药专用库数量：" >
                                    <el-input v-model="safeCheckTbaleRow.zyzyksl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="民爆移动库数量：" >
                                    <el-input v-model="safeCheckTbaleRow.mbydksl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <!-- <div class="check_title"><span>专用库核定储存量：</span></div> -->
                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="炸药库(吨)：" >
                                    <el-input v-model="safeCheckTbaleRow.zykccl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="雷管库(吨):" >
                                    <el-input v-model="safeCheckTbaleRow.lgkccl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24" style="height: 100%;">
                                <el-form-item label="专用库通过安全评估情况:" >
                                    <el-input type="textarea" :rows="2" v-model="safeCheckTbaleRow.zyktgaqpgqk" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="工程技术员数量(个):" >
                                    <el-input v-model="safeCheckTbaleRow.gcjsysl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="爆破员数量(个):" >
                                    <el-input v-model="safeCheckTbaleRow.bpysl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="安全员数量(个):" >
                                    <el-input v-model="safeCheckTbaleRow.aqysl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>

                        <el-row>
                            <el-col :span="24">
                                <el-form-item label="保管员数量(个):" >
                                    <el-input v-model="safeCheckTbaleRow.bgysl" readonly></el-input>
                                </el-form-item>
                            </el-col>
                        </el-row>
                    </el-form>

                    <table class="table table-bordered">
                        <!-- <caption>检查内容</caption> -->
                        <div class="check_title"><span>检查内容：</span></div>

                        <thead>
                            <tr>
                                <th rowspan="2" style="width: 36px;">序号</th>
                                <th rowspan="2">检查内容</th>
                                <th rowspan="1" colspan="2">法律依据</th>
                                <th rowspan="2" style="width: 36px;">是否合格</th>
                                <!-- <th rowspan="2">不合格</th> -->
                            </tr>
                            <tr>
                                <th rowspan="1">违反项</th>
                                <th rowspan="1">处罚项</th>
                            </tr>
                        </thead>

                        <tbody>
                            <template>
                                <tr>
                                    <td>1</td>
                                    <td>民爆物品从业单位主要负责人未展行 安全管理职责导致伤亡事故, 尚不构成犯罪的</td>
                                    <td>《民用爆炸物品安全管 理条例》第5条第1款</td>
                                    <td>《民用爆炸物品安全管理条例》第52条</td>
                                    <td>
                                        <!--<el-checkbox-group v-model="safeCheckTbaleRow.jcqkArray">
                                            <el-checkbox lable="1"></el-checkbox>
                                        </el-checkbox-group>-->
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="1" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>爆破作业是否属于合法的生产活动</td>
                                    <td>《民用爆炸物品安全管 理条例》第31条第1项</td>
                                    <td>《民用爆炸物品安全管理条例》第48条第4项和第4款</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="2" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>爆破作业单位跨省、自治区、直辖市 从事爆破作业的,是否事先向 爆破作业所在地公安机关报告</td>
                                    <td>《民用爆炸物品安全管 理条例》第36条</td>
                                    <td>《民用爆炸物品安全管理条例》 第48条第2项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="3" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>民爆物品是否存放在符合国家有关 标准和规范的民用爆炸物专用仓库</td>
                                    <td>《民用爆炸物品安全管 理条例》第31条第2 项第40条</td>
                                    <td>《民用爆炸物品安全管理条例》 第49条第3项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="4" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td>爆破作业单位是否按其资质等级 承接爆破项目,爆破作业人员是否 按其资质等级从事爆破作业。</td>
                                    <td>《民用爆炸物品安全管 理条例》第34条</td>
                                    <td>《民用爆炸物品安全管理条例》              第48条第1项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="5" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>6</td>
                                    <td>未经许可,生产、销售、购买、 运输民爆物品,从事爆破作业的</td>
                                    <td>《民用爆炸物品安全管 理条例》第3条第2款</td>
                                    <td>《民用爆炸物品安全管理条例》第44条第4款</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="6" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>7</td>
                                    <td>转让、出借、转借、抵押、赠送、私罩 或者非法持有民爆物品的</td>
                                    <td>《民用爆炸物品安全管理条例》 第3条第3款</td>
                                    <td>《民用爆炸物品安全管理条例》 第50条第3项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="7" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>8</td>
                                    <td>注反安全管理制度, 致使民爆物品丢失、被盗、被抢的</td>
                                    <td>《民用爆炸物品安全管理条例》 第50条第1项</td>
                                    <td>《民用爆炸物品安全管理条例》                              第50条第1项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="8" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>9</td>
                                    <td>民爆物品丢失,被盗,被抢,未按规定| 向当地公安机关报告或者故意隐满不 报的</td>
                                    <td>(民用爆炸物品安全管理条例》  第41条第4项</td>
                                    <td>《民用爆炸物品安全管理条例》                              第50条第2项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="9" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>10</td>
                                    <td>民爆从业单位未依法设置 治安保卫机构或者配备治安保卫人员, 设置技术防范设施</td>
                                    <td>《企业事业单位内部治 安保卫条例》第7条：《民用爆炸物品安全管理条例》                             第5条第2款</td>
                                    <td>《企业事业单位内部治 安保卫条例》第19条:《民用爆炸物品安全管理条例》                                  第49条第1项、第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="10" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>11</td>
                                    <td>民爆作业单位是否对爆破作业人员，安全管理人员、仓库管理人员 进行专业技术培训</td>
                                    <td>企业事业单位内部治 安保卫条例》第9条: 《民用爆炸物品安全管 理条例》第33条</td>
                                    <td>企业事业单位内部治 安保卫条例》第19条:(民 用爆炸物品安全管理条例》     第48条第4项和第4款</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="11" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>12</td>
                                    <td>爆破作业人员是否经当地市级公安机 关考核合格,并在取得《爆破作业人员 许可证》后从事爆破作业</td>
                                    <td>《民用爆炸物品安全管理条例》 第33条</td>
                                    <td>《民用娱炸物品安全管理条例》                             第48条第4项和第4软</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="12" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>13</td>
                                    <td>未建立安全管理制度、岗位安全责任制 度,制定安全防范描描和事故应急预 案,设置安全管理机构或配备专取安全 管理人员</td>
                                    <td>《企业事业单位内部治安保卫条例》第8条: 民用爆炸物品安全管理条例》 第5条第3款</td>
                                    <td>《企业事业单位内部治 安保卫条例》第19条:《民用爆炸物品安全管理条例》   第49条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="13" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>14</td>
                                    <td>是否建立入库检查、登记制度,收存和 发放民用爆炸物品是否进行登记, 账目清楚、账物相符</td>
                                    <td>(民用爆炸物品安全管理条例》 第41条第1项</td>
                                    <td>《民用爆炸物品安全管理 条例》第48条第3项、       第49条第2项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="14" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>16</td>
                                    <td>专用仓库是否指定专人管理、看护,是否严禁无关人员进入库区内,严禁在库区内吸烟和用火、严禁带易燃易爆物品| 入库区,严禁在库房内住宿和进行其他 活动</td>
                                    <td>《民用爆炸物品安全管理条例》 第41条第3项</td>
                                    <td>《民用爆炸物品安全管理 条例》                              第49 条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="16" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>17</td>
                                    <td>爆炸作业现场临时存放民爆物品的,是否具备临时存放的条件, 并设专人管理、看护</td>
                                    <td>《民用爆炸物品安全管理条例》      第42条</td>
                                    <td>《民用爆炸物品安全管理条例》                              第49条第 3项,第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="17" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>18</td>
                                    <td>生产、销售全业和爆被作业单位未建立 民牌物品登记制度,如实将生产,销售、 购买、运输、储存、使用民爆物品的品 种,数量和流向信息输入计算机系统</td>
                                    <td>《民用爆炸物品安全管理条例》               第7条第2款</td>
                                    <td>《民用爆炸物品安全管理条例》                            第46条第6项, 第48条第3项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="18" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>19</td>
                                    <td>民爆生产企业未对民爆物品数出警示 标识、登记标识,对需管编码打号的</td>
                                    <td>《民用爆炸物品安全管理条例》 第15条</td>
                                    <td>(民用爆炸物品安全管 理条例》 第46条第1项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="19" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>20</td>
                                    <td>爆破作业单位是否如实记载领取、发放 民牌物品的品种、种类、编号,以及领 取、发放人员姓名</td>
                                    <td>《民用爆炸物品安全管理条例》 第37条第1款</td>
                                    <td>《民用爆炸物品安全管理条例》                 第46条第6项, 49条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="20" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>21</td>
                                    <td>领取民爆物品不得超过当班用量,作业 后剩余的必须当班清退回库,</td>
                                    <td>《民用爆炸物品安全管理条例》 第37条第1款</td>
                                    <td>《民用爆炸物品安全管退条例》 第48条第3项, 49条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="21" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>22</td>
                                    <td>爆孩作业单位是否*领取,发放民爆物 品的原始记录保存2年备查</td>
                                    <td>(民用爆炸物品安全管理条例》 第37条第2款 1</td>
                                    <td>《民用爆炸物品安全管理条例》 第49条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="22" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>23</td>
                                    <td>民爆物品变质和过期的,是否及时请理 出库,并登记造册报请相关部门, 予以销毁</td>
                                    <td>《民用爆炸物品安全管理条例》 第43条</td>
                                    <td>《民用爆炸物品安全管理条例》 第49条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="23" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>24</td>
                                    <td>销售、购买民爆物品, 是否按规定通过银行账户进行交易, 是否违规使用现金或者实物进行交易 1</td>
                                    <td>(民用爆炸物品安全管 理条例》 第23条第1款</td>
                                    <td>《民用爆炸物品安全管理条例》 第46条第3项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="24" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>25</td>
                                    <td>销售企业是否按规定将购买单位的许 可证、银行账户转账凭证、经办人的身 份证明复印件保存2年备查</td>
                                    <td>(民用爆炸物品安全管 理条例) 第23条第2款</td>
                                    <td>《民用爆炸物品安全管理条例》 第46条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="25" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>26</td>
                                    <td>销售、购买民爆物的单位,是否在成交 之后3日内将购买品种、数量 向所在地公安机关备案</td>
                                    <td>《民用爆炸物品安全管理条例》 第24条</td>
                                    <td>《民用爆炸物品安全管理条例》 第46条第5款</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="26" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>27</td>
                                    <td>进出口民爆物,是否将购买品种,数量 向收货地或出境口岸所在地公安机关 备案</td>
                                    <td>《民用爆炸物品安全管理条例》 第25条</td>
                                    <td>《民用爆炸物品安全管理条例》 第46条第5款</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="27" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>28</td>
                                    <td>民爆物品运抵后,收获单位未按规定在 3日内将《民爆物品运输许可证》交回 公安机关核销</td>
                                    <td>《民用爆炸物品安全管理条例》 第29条</td>
                                    <td>《民用爆炸物品安全管理条例》 第46条第7项 1</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="28" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>29</td>
                                    <td>携带民爆物品搭乘公共交通工具或者 进入公共场所;邮寄或者在托运的货 物、行李、包裹、邮件中夹带民爆物的|</td>
                                    <td>民用爆炸物品安全管 理条例》 第30条、31条</td>
                                    <td>《民用爆炸物品安全管理条例》 第51条</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="29" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>30</td>
                                    <td>经由道路运输民爆物品,未携带(民爆| 物品运输许可证》的</td>
                                    <td>《民用爆炸物品安全管 理条例》 第28条第1项</td>
                                    <td>《民用爆炸物品安全管 理条例》第47条第2项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="30" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>31</td>
                                    <td>经由道路运输民爆物品的车辆。 装载民爆物品的车照载人的</td>
                                    <td>《民用爆炸物品安全管]理条例》 第28条第2项</td>
                                    <td>《民用爆炸物品安全管 理条例》第47条第6项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="31" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>32</td>
                                    <td>运输车辆未按规定基挂或安装符合国 家标准的易燃品爆危险品答示标志的</td>
                                    <td>《民用爆炸物品安全管 理条例》 第28条第2项</td>
                                    <td>《民用爆炸物品安全管 理条例》第47条第4项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="32" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>33</td>
                                    <td>经由道路运输民爆物品, 未按规定的路线行驶的</td>
                                    <td>《民用爆炸物品安全管 理条例》 第28条第5项 </td>
                                    <td>《民用爆炸物品安全管 理条例》第47条第5项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="33" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>34</td>
                                    <td>经由道路运输民燥物品,途中经体没有 专人看守或在许可以外地点经停的</td>
                                    <td>《民用爆炸物品安全管 理条例》 第28条第5项</td>
                                    <td>《民用爆炸物品安全管 理条例》第47条第5项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="34" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>35</td>
                                    <td>经由道路运输民爆物品,速反运输许可 事项的(混装民爆物品、车辆保持安全 车速、装卸现场设置警戒线禁止无关人 员出入)</td>
                                    <td>《民用爆炸物品安全管 理条例》 第28条第6项</td>
                                    <td>《民用娱炸物品安全管 理条例》第47条第1项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="35" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td>36</td>
                                    <td>出现仓险情况未立即采取应急者施并 报告当地公安机关的</td>
                                    <td>《民用爆炸物品安全管理条例》 第28条第7项</td>
                                    <td>《民用爆炸物品安全管 理条例》第47条第7项</td>
                                    <td>
                                        <el-checkbox-group v-model="jcqkArray">
                                            <el-checkbox label="36" onclick="return false">&nbsp;</el-checkbox>
                                        </el-checkbox-group>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td colspan="4" >以上有两项不合格将依法予以处罚</td>
                                </tr>
                                <tr>
                                    <td>处理情况</td>
                                    <td colspan="4"><el-input v-model="safeCheckTbaleRow.clqk" type="textarea" :rows="2" readonly></el-input></td>
                                </tr>
                                <tr>
                                    <td>备注</td>
                                    <td colspan="4"><el-input v-model="safeCheckTbaleRow.bz" type="textarea" :rows="2" readonly></el-input></td>
                                </tr>
                                <!-- <tr>
                                    <td>检查人员签名：</td>
                                    <td colspan="4"><input v-model="safeCheckTbaleRow.jcryqm" type="text"></td>
                                </tr> -->
                                <!-- <tr>
                                    <td>被检查单位负责人签名：</td>
                                    <td colspan="4"><input v-model="safeCheckTbaleRow.bjcdwfzrqm" type="text"></td>
                                </tr> -->
                                <tr>
                                    <td colspan="5" rowspan="2">
                                        执表说明:<br>1、此表只用于检查组在检查民牌从此单位过程中使用。由检查组人员精写,
                                        <br>2、检查工作结束后,要将存在问题场所的处理情况精写到处理情况一些,填写的内容包括场新
                                        名称、存在的问题和处理的结果。
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </div>
            </div>
        </el-dialog>

        <el-dialog v-cloak title="危爆物品库室管理人员" @close="closeDialogroomPerson('roomPersonRow')" center :visible.sync="roomPersonDialog" top="3vh" style="height: 100%"  width="952px">
            <el-form :model="roomPersonRow"  label-width="120px" class="demo-ruleForm" :rules="rules" ref="roomPersonRow">
                <el-row>
                    <el-col :span="12">
                        <el-form-item label="姓名:">
                            <el-input v-model="roomPersonRow.name" style="width: 200px;"></el-input>
                        </el-form-item>
                    </el-col>
                    <el-col :span="12">
                        <el-form-item label="职务:">
                            <el-input v-model="roomPersonRow.duty" style="width: 200px;"></el-input>
                        </el-form-item>
                    </el-col>
                </el-row>

                <el-row>
                    <el-col :span="12">
                        <el-form-item label="身份证号:" prop="idNumber">
                            <el-input v-model="roomPersonRow.idNumber" style="width: 200px;"></el-input>
                        </el-form-item>
                    </el-col>
                    <el-col :span="12">
                        <el-form-item label="联系电话:" prop="phone">
                            <el-input v-model="roomPersonRow.phone" style="width: 200px;"></el-input>
                        </el-form-item>
                    </el-col>
                </el-row>
            </el-form>

            <span slot="footer">
                <el-button type="info" @click="roomPersonDialog = false">取 消</el-button>
                <el-button type="success" @click="addroomPersonRow('roomPersonRow')">确 定</el-button>
            </span>
        </el-dialog>
    </div>
</div>

</body>

</html>
<script type="text/javascript" src="../json/nation.js"></script>
<script type="text/javascript">
    $(function () {
        // 自定义验证规则
        var validateBirthday = function (rule, value, callback) {
            if (!value) {
                return callback(new Error('日期不能为空'));
            } else {
                callback();
            }
        };
        var validateIdNumber = function (rule, value, callback) {
            if (!value) {
                return callback(new Error('身份证号不能为空'));
            } else if (!checkIdNumber(value)) {
                callback(new Error('身份证号码错误!'));
            } else {
                callback();
            }
        };
        var validatePhoneNumber = function (rule, value, callback) {
            if (!value) {
                return callback(new Error('手机号不能为空'));
            } else if (!checkPhoneNumber(value)) {
                callback(new Error('手机号输入不正确!'));
            } else {
                callback();
            }
        };
        new Vue({
            el: '#body1',
            data: {
                params:{
                    page:null,
                    limit: null,
                    dptId: null,
                    fzrxm:null,
                    unitp:null
                },
                checked: false,
                selectedArray: [],
                options:[],
                dialogShow:false,

                rows: [],
                row: {},
                saveSelectRows: [],
                saveSelectRows02: [],
                saveSelectRows03: [],
                saveSelectRows04: [],
                policeVisitForm: [],

                total: 0,
                pageIndex:1,
                pageSize: 20,
                pageRows: [5, 10, 20, 30, 40, 50],

                oldMissionPersons:[],
                operationType:"",
                operated: '',
                operated02: '',
                operated03: '',
                operated04: '',
                operated05: '',

                // 其他选项是否显示
                isTrue: true,

                // 重点岗位人员信息
                importantCheckTbaleRows: [],
                importantCheckTbaleRow: {},
                importantTbaleRowID: '',
                importantChecktotal: 0,
                importantCheckPageIndex: 1,
                importantCheckPageSize: 10,
                importantDialog: false,
                zdgwryImageUrl: '',
                zdgwryImageUrl02: '',
                zdgwryImageUrl03: '',
                zdgwryImageUrl04: '',

                // 从业人员信息
                cyCheckTbaleRows: [],
                cyCheckTbaleRow: {},
                cyTbaleRowID: '',
                cyChecktotal: 0,
                cyCheckPageIndex: 1,
                cyCheckPageSize: 10,
                cyDialog: false,

                // 危爆物品库室
                roomCheckTbaleRows: [],
                roomCheckTbaleRow: {},
                roomTbaleRowID: '',
                roomChecktotal: 0,
                roomCheckPageIndex: 1,
                roomCheckPageSize: 10,
                roomDialog: false,
                wbwpksImageUrl: '',
                wbwpksImageUrl02: '',
                wbwpksImageUrl03: '',

                roomPersonRows: [],
                roomPersonRow: {},
                roomPersonDialog: false,

                // 安全检查记录
                safeCheckTbaleRows: [],
                safeCheckTbaleRow: {
                    //涉爆企业性质
                    sbqyArray: [],
                    //涉爆项目
                    sbxmArray: [],
                    //检查情况
                    // jcqkArray:['1','18'],
                },
                safeCheckTbaleRowID: '',
                safeChecktotal: 0,
                safeCheckPageIndex: 1,
                safeCheckPageSize: 10,
                hotalDialog: false,
                // 检查情况
                jcqkArray:[],
                tmpArr: [],

                //分页
                flag:'',

                //图片
                /*frontPhotographUrls:[],
                sidePhotographUrls:[],
                aerialPhotographUrls:[],*/
                urls: [
                    'https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg',
                ],
                //--------------------------------
                activeName: 'first',
                activeName02: 'one',
                activeName03: 'one',

                // 民族
                nationOptions: [],
                // 宗教
                religionOptions:[],
                // 婚姻状况
                maritalStatusOptions:[],
                // 是否服兵役
                militaryOptions:[],
                // 政治面貌
                politicsOptions: [],
                // 文化程度
                cultureOptions: [],
                policeStation: [],

                // 上传照片地址
                // updateUrl: params.serviceIp + '/SbdwJbqk/addDataAndFile',
                updateUrl: '#',
                // updateUrl02: params.serviceIp + '/SbdwZdgwryxxdjb/addDataAndFile',
                // updateUrl03: params.serviceIp + '/SbdwWbwpksglry/addData',
                // 法人照片
                frImageUrl:'',
                // 负责人照片
                fzrImageUrl: '',
                // 治安保卫人员
                zabwryImageUrl: '',
                multfileImg: '',
                // 图片放大预览src列表
                srcList: [],
                srcList2: [],
                srcList3: [],
                srcList4: [],
                srcList5: [],
                srcList6: [],
                srcList7: [],
                srcList8: [],
                srcList9: [],
                srcList10: [],
                srcList11: [],

                // 营业执照
                fileYyzzIdPhoto:[],
                picYyzzListIdPhoto: [],
                fileYyzzLists:[],
                dialogYyzzImageUrl: '',
                dialogYyzzVisible: false,
                yyzzImgLists: [],
                // 安全生产许可证
                fileAqscxkzIdPhoto:[],
                picAqscxkzListIdPhoto: [],
                fileAqscxkzLists:[],
                dialogAqscxkzImageUrl: '',
                dialogAqscxkzVisible: false,
                aqscxkzImgLists: [],
                // 采矿许可证
                fileCkxkzIdPhoto:[],
                picCkxkzListIdPhoto: [],
                fileCkxkzLists:[],
                dialogCkxkzImageUrl: '',
                dialogCkxkzVisible: false,
                ckxkzImgLists: [],
                // 爆破作业单位许可证
                fileBpzydwxkzIdPhoto:[],
                picBpzydwxkzListIdPhoto: [],
                fileBpzydwxkzLists:[],
                dialogBpzydwxkzImageUrl: '',
                dialogBpzydwxkzVisible: false,
                bpzydwxkzImgLists: [],
                // 相关开工批复
                fileXgkgpfIdPhoto:[],
                picXgkgpfListIdPhoto: [],
                fileXgkgpfLists:[],
                dialogXgkgpfImageUrl: '',
                dialogXgkgpfVisible: false,
                xgkgpfImgLists: [],
                // 违法犯罪记录查询复印件
                fileWffzjlIdPhoto:[],
                picWffzjlListIdPhoto: [],
                fileWffzjlLists:[],
                dialogWffzjlImageUrl: '',
                dialogWffzjlVisible: false,
                wffzjlImgLists: [],
                // 身份证复印件
                fileSfzIdPhoto:[],
                picSfzListIdPhoto: [],
                fileSfzLists:[],
                dialogSfzImageUrl: '',
                dialogSfzVisible: false,
                sfzImgLists: [],
                // 资格证复印件
                fileZgzIdPhoto:[],
                picZgzListIdPhoto: [],
                fileZgzLists:[],
                dialogZgzImageUrl: '',
                dialogZgzVisible: false,
                zgzImgLists: [],
                // 正面照
                fileZmzIdPhoto:[],
                picZmzListIdPhoto: [],
                fileZmzLists:[],
                dialogZmzImageUrl: '',
                dialogZmzVisible: false,
                zmzImgLists: [],
                // 侧面照
                fileCmzIdPhoto:[],
                picCmzListIdPhoto: [],
                fileCmzLists:[],
                dialogCmzImageUrl: '',
                dialogCmzVisible: false,
                cmzImgLists: [],
                // 航拍照
                fileHpzIdPhoto:[],
                picHpzListIdPhoto: [],
                fileHpzLists:[],
                dialogHpzImageUrl: '',
                dialogHpzVisible: false,
                hpzImgLists: [],

                // 表单验证规则
                rules: {
                    zgrs: [{ type: 'number', required: true, message: '请输入整数', trigger: 'blur' }],
                    xfdj: [{ required: true, message: '请输入整数', trigger: 'blur' }],
                    sczyd: [{ type: 'number', required: true, message: '请输入整数', trigger: 'blur' }],
                    writeTime: [{ validator: validateBirthday, trigger: 'blur' }, { required: true, trigger: 'blur' }],
                    // frdbcsrq: [{ validator: validateBirthday, trigger: 'blur' }, { required: true, trigger: 'blur' }],
                    frdbsfzh: [{ validator: validateIdNumber, trigger: 'blur' }, { required: true, trigger: 'blur' }],
                    frdblxdh: [{ validator: validatePhoneNumber, trigger: 'blur' }, { required: true, trigger: 'blur' }],
                    // fzrcsrq: [{ validator: validateBirthday, trigger: 'blur' }, { required: true, trigger: 'blur' }],
                    fzrsfzh: [{ validator: validateIdNumber, trigger: 'blur' }, { required: true, trigger: 'blur' }],
                    fzrlxdh: [{ validator: validatePhoneNumber, trigger: 'blur' }, { required: true, trigger: 'blur' }],
                    // zabwrycsrq: [{ validator: validateBirthday, trigger: 'blur' }, { required: true, trigger: 'blur' }],
                    zabwrysfzh: [{ validator: validateIdNumber, trigger: 'blur' }, { required: true, trigger: 'blur' }],
                    zabwrylxdh: [{ validator: validatePhoneNumber, trigger: 'blur' }, { required: true, trigger: 'blur' }],
                    // birthday: [{ validator: validateBirthday, trigger: 'blur' }, { required: true, trigger: 'blur' }],
                    idNumber: [{ validator: validateIdNumber, trigger: 'blur' }, { required: true, trigger: 'blur' }],
                    phone: [{ validator: validatePhoneNumber, trigger: 'blur' }, { required: true, trigger: 'blur' }]
                },

                //对话框满屏
                fullscreen:false,
                visible:'none',
                isReadOnly: true,
                mainDiv:null,
                hotalShowOrNo:true,

                frdbcsrq: '',
                fzrcsrq: '',
                zabwrycsrq: '',
                birthday: '',
                indexLists: []
            },
            mounted: function () {
                vm = this;
                vm.setTableDiv();
                // vm.fillOptions();
                // vm.loadData();
                // initButton(this);

                var tmpMapToId = window.location.search.substring(1);
                var MapToId = parseInt(tmpMapToId.split('&')[0]);
                if (tmpMapToId.split('&')[1] === '1'){
                    vm.mainDiv=true;
                    vm.loadataOneDialog01(MapToId);
                }else if (tmpMapToId.split('&')[1] === '2') {
                    vm.mainDiv=true;
                    vm.loadataOneDialog02(MapToId);
                }else {
                    vm = this;
                    vm.loadData();
                    initButton(this);
                    vm.visible='inline';
                    vm.isReadOnly = false;
                    $("#mainBody").css("display","block");
                    vm.isTrue = false;
                }

                //多选框
                vm.sexOptions=sexOptions;
                vm.nationOptions = nation;
                vm.religionOptions = religionOptions;
                vm.maritalStatusOptions = maritalStatusOptions;
                vm.militaryOptions = military;
                vm.politicsOptions = politicsOptions;
                vm.cultureOptions = cultureOptions;

                const obj12 = $("#mainIframe")[0].contentWindow;
                //    ----------------------

                const mapFrame = this.$refs['mainIframe']
                if (mapFrame.attachEvent) { // 兼容浏览器判断
                    mapFrame.attachEvent('onload', function() {
                        const iframeWin = mapFrame.contentWindow
                        iframeWin.postMessage('初始化值', '*')
                        // data传递的参数   *写成子页面的域名或者是ip
                    })
                } else {
                    mapFrame.onload = function () {
                        const iframeWin = mapFrame.contentWindow
                        iframeWin.postMessage('初始化值', '*')
                    }
                }

                vm.loadData02();
            },
            computed: {
            },
            methods: {
                httpRequest: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.frImageUrl = this.result; // this指向当前方法onloadend的作用域
                    };
                },
                httpRequest02: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.fzrImageUrl = this.result; // this指向当前方法onloadend的作用域
                    };
                },
                httpRequest03: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.zabwryImageUrl = this.result; // this指向当前方法onloadend的作用域
                    };
                },
                httpRequest04: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.zdgwryImageUrl = this.result; // this指向当前方法onloadend的作用域
                        vm.importantCheckTbaleRow.photograph = vm.zdgwryImageUrl;
                    };
                },
                httpRequest05: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.dialogWffzjlImageUrl = this.result; // this指向当前方法onloadend的作用域
                        // vm.importantCheckTbaleRow.wffzjlcxfyj = vm.zdgwryImageUrl02;
                    };
                },
                httpRequest06: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.dialogSfzImageUrl = this.result; // this指向当前方法onloadend的作用域
                        // vm.importantCheckTbaleRow.sfzfyj = vm.zdgwryImageUrl03;
                    };
                },
                httpRequest07: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.dialogZgzImageUrl = this.result; // this指向当前方法onloadend的作用域
                        // vm.importantCheckTbaleRow.zgzfyj = vm.zdgwryImageUrl04;
                    };
                },
                httpRequest08: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.dialogZmzImageUrl = this.result; // this指向当前方法onloadend的作用域
                        // vm.roomCheckTbaleRow.frontPhotograph = vm.wbwpksImageUrl;
                    };
                },
                httpRequest09: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.dialogCmzImageUrl = this.result; // this指向当前方法onloadend的作用域
                        // vm.roomCheckTbaleRow.sidePhotograph = vm.wbwpksImageUrl02;
                    };
                },
                httpRequest10: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.dialogHpzImageUrl = this.result; // this指向当前方法onloadend的作用域
                        // vm.roomCheckTbaleRow.aerialPhotograph = vm.wbwpksImageUrl03;
                    };
                },
                httpRequest11: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.dialogYyzzImageUrl = this.result; // this指向当前方法onloadend的作用域
                    };
                },
                httpRequest12: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.dialogAqscxkzImageUrl = this.result; // this指向当前方法onloadend的作用域
                    };
                },
                httpRequest13: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.dialogCkxkzImageUrl = this.result; // this指向当前方法onloadend的作用域
                    };
                },
                httpRequest14: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.dialogBpzydwxkzImageUrl = this.result; // this指向当前方法onloadend的作用域
                    };
                },
                httpRequest15: function(data) {
                    let rd = new FileReader(); // 创建文件读取对象
                    let file = data.file;
                    rd.readAsDataURL(file); // 文件读取装换为base64类型
                    rd.onloadend = function (e) {
                        vm.dialogXgkgpfImageUrl = this.result; // this指向当前方法onloadend的作用域
                    };
                },
                // 营业执照
                handleYyzzPreview:function(file) {
                    vm.dialogYyzzImageUrl = file.url;
                    vm.dialogYyzzVisible = true;
                },
                handleYyzzRemove:function(file, fileLists) {
                    for (let i in this.picYyzzListIdPhoto) {
                        if (this.picYyzzListIdPhoto[i].key === file.uid) {
                            this.picYyzzListIdPhoto.splice(i, 1)
                        }
                    }
                    vm.fileYyzzLists = fileLists;
                },
                handleChangeYyzzPhoto:function(file, fileList) {
                    vm.fileYyzzLists = fileList
                },
                fileYyzzDelIdPhoto:function(index,id){
                    vm.$confirm('此操作将永久删除该图片, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        vm.row.yyzzDelIds.push(id);
                        vm.yyzzImgLists.splice(index,1);
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                // 安全生产许可证
                handleAqscxkzPreview:function(file) {
                    vm.dialogAqscxkzImageUrl = file.url;
                    vm.dialogAqscxkzVisible = true;
                },
                handleAqscxkzRemove:function(file, fileLists) {
                    for (let i in this.picAqscxkzListIdPhoto) {
                        if (this.picAqscxkzListIdPhoto[i].key === file.uid) {
                            this.picAqscxkzListIdPhoto.splice(i, 1)
                        }
                    }
                    vm.fileAqscxkzLists = fileLists;
                },
                handleChangeAqscxkzPhoto:function(file, fileList) {
                    vm.fileAqscxkzLists = fileList
                },
                fileAqscxkzDelIdPhoto:function(index,id){
                    vm.$confirm('此操作将永久删除该图片, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        vm.row.yyzzDelIds.push(id);
                        vm.aqscxkzImgLists.splice(index,1);
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                // 采矿许可证
                handleCkxkzPreview:function(file) {
                    vm.dialogCkxkzImageUrl = file.url;
                    vm.dialogCkxkzVisible = true;
                },
                handleCkxkzRemove:function(file, fileLists) {
                    for (let i in this.picCkxkzListIdPhoto) {
                        if (this.picCkxkzListIdPhoto[i].key === file.uid) {
                            this.picCkxkzListIdPhoto.splice(i, 1)
                        }
                    }
                    vm.fileCkxkzLists = fileLists;
                },
                handleChangeCkxkzPhoto:function(file, fileList) {
                    vm.fileCkxkzLists = fileList
                },
                fileCkxkzDelIdPhoto:function(index,id){
                    vm.$confirm('此操作将永久删除该图片, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        vm.row.yyzzDelIds.push(id);
                        vm.ckxkzImgLists.splice(index,1);
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                // 爆破作业单位许可证
                handleBpzydwxkzPreview:function(file) {
                    vm.dialogBpzydwxkzImageUrl = file.url;
                    vm.dialogBpzydwxkzVisible = true;
                },
                handleBpzydwxkzRemove:function(file, fileLists) {
                    for (let i in this.picBpzydwxkzListIdPhoto) {
                        if (this.picBpzydwxkzListIdPhoto[i].key === file.uid) {
                            this.picBpzydwxkzListIdPhoto.splice(i, 1)
                        }
                    }
                    vm.fileBpzydwxkzLists = fileLists;
                },
                handleChangeBpzydwxkzPhoto:function(file, fileList) {
                    vm.fileBpzydwxkzLists = fileList
                },
                fileBpzydwxkzDelIdPhoto:function(index,id){
                    vm.$confirm('此操作将永久删除该图片, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        vm.row.yyzzDelIds.push(id);
                        vm.bpzydwxkzImgLists.splice(index,1);
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                // 相关批复
                handleXgkgpfPreview:function(file) {
                    vm.dialogXgkgpfImageUrl = file.url;
                    vm.dialogXgkgpfVisible = true;
                },
                handleXgkgpfRemove:function(file, fileLists) {
                    for (let i in this.picXgkgpfListIdPhoto) {
                        if (this.picXgkgpfListIdPhoto[i].key === file.uid) {
                            this.picXgkgpfListIdPhoto.splice(i, 1)
                        }
                    }
                    vm.fileXgkgpfLists = fileLists;
                },
                handleChangeXgkgpfPhoto:function(file, fileList) {
                    vm.fileXgkgpfLists = fileList
                },
                fileXgkgpfDelIdPhoto:function(index,id){
                    vm.$confirm('此操作将永久删除该图片, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        vm.row.yyzzDelIds.push(id);
                        vm.xgkgpfImgLists.splice(index,1);
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                // 违法犯罪记录查询复印件
                handleWffzjlPreview:function(file) {
                    vm.dialogWffzjlImageUrl = file.url;
                    vm.dialogWffzjlVisible = true;
                },
                handleWffzjlRemove:function(file, fileLists) {
                    for (let i in this.picWffzjlListIdPhoto) {
                        if (this.picWffzjlListIdPhoto[i].key === file.uid) {
                            this.picWffzjlListIdPhoto.splice(i, 1)
                        }
                    }
                    vm.fileWffzjlLists = fileLists;
                },
                handleChangeWffzjlPhoto:function(file, fileList) {
                    vm.fileWffzjlLists = fileList
                },
                fileWffzjlDelIdPhoto:function(index,id){
                    vm.$confirm('此操作将永久删除该图片, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        vm.importantCheckTbaleRow.wffzjlcxfyjDelIds.push(id);
                        vm.wffzjlImgLists.splice(index,1);
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                // 身份证复印件
                handleSfzPreview:function(file) {
                    vm.dialogSfzImageUrl = file.url;
                    vm.dialogSfzVisible = true;
                },
                handleSfzRemove:function(file, fileLists) {
                    for (let i in this.picSfzListIdPhoto) {
                        if (this.picSfzListIdPhoto[i].key === file.uid) {
                            this.picSfzListIdPhoto.splice(i, 1)
                        }
                    }
                    vm.fileSfzLists = fileLists;
                },
                handleChangeSfzPhoto:function(file, fileList) {
                    vm.fileSfzLists = fileList
                },
                fileSfzDelIdPhoto:function(index,id){
                    vm.$confirm('此操作将永久删除该图片, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        vm.importantCheckTbaleRow.wffzjlcxfyjDelIds.push(id);
                        vm.sfzImgLists.splice(index,1);
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                // 资格证复印件
                handleZgzPreview:function(file) {
                    vm.dialogZgzImageUrl = file.url;
                    vm.dialogZgzVisible = true;
                },
                handleZgzRemove:function(file, fileLists) {
                    for (let i in this.picZgzListIdPhoto) {
                        if (this.picZgzListIdPhoto[i].key === file.uid) {
                            this.picZgzListIdPhoto.splice(i, 1)
                        }
                    }
                    vm.fileZgzLists = fileLists;
                },
                handleChangeZgzPhoto:function(file, fileList) {
                    vm.fileZgzLists = fileList
                },
                fileZgzDelIdPhoto:function(index,id){
                    vm.$confirm('此操作将永久删除该图片, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        vm.importantCheckTbaleRow.wffzjlcxfyjDelIds.push(id);
                        vm.zgzImgLists.splice(index,1);
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                // 正面照
                handleZmzPreview:function(file) {
                    vm.dialogZmzImageUrl = file.url;
                    vm.dialogZmzVisible = true;
                },
                handleZmzRemove:function(file, fileLists) {
                    for (let i in this.picZmzListIdPhoto) {
                        if (this.picZmzListIdPhoto[i].key === file.uid) {
                            this.picZmzListIdPhoto.splice(i, 1)
                        }
                    }
                    vm.fileZmzLists = fileLists;
                },
                handleChangeZmzPhoto:function(file, fileList) {
                    vm.fileZmzLists = fileList
                },
                fileZmzDelIdPhoto:function(index,id){
                    vm.$confirm('此操作将永久删除该图片, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        vm.roomCheckTbaleRow.frontPhotographDelIds.push(id);
                        vm.zmzImgLists.splice(index,1);
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                // 侧面照
                handleCmzPreview:function(file) {
                    vm.dialogCmzImageUrl = file.url;
                    vm.dialogCmzVisible = true;
                },
                handleCmzRemove:function(file, fileLists) {
                    for (let i in this.picCmzListIdPhoto) {
                        if (this.picCmzListIdPhoto[i].key === file.uid) {
                            this.picCmzListIdPhoto.splice(i, 1)
                        }
                    }
                    vm.fileCmzLists = fileLists;
                },
                handleChangeCmzPhoto:function(file, fileList) {
                    vm.fileCmzLists = fileList
                },
                fileCmzDelIdPhoto:function(index,id){
                    vm.$confirm('此操作将永久删除该图片, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        vm.roomCheckTbaleRow.frontPhotographDelIds.push(id);
                        vm.cmzImgLists.splice(index,1);
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                // 航拍照
                handleHpzPreview:function(file) {
                    vm.dialogHpzImageUrl = file.url;
                    vm.dialogHpzVisible = true;
                },
                handleHpzRemove:function(file, fileLists) {
                    for (let i in this.picHpzListIdPhoto) {
                        if (this.picHpzListIdPhoto[i].key === file.uid) {
                            this.picHpzListIdPhoto.splice(i, 1)
                        }
                    }
                    vm.fileHpzLists = fileLists;
                },
                handleChangeHpzPhoto:function(file, fileList) {
                    vm.fileHpzLists = fileList
                },
                fileHpzDelIdPhoto:function(index,id){
                    vm.$confirm('此操作将永久删除该图片, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        vm.roomCheckTbaleRow.frontPhotographDelIds.push(id);
                        vm.hpzImgLists.splice(index,1);
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                //加载单个dialog
                loadataOneDialog01:function(MapToId) {
                    vm.hotalShowOrNo = false
                    //隐藏关闭按钮
                    $(".el-dialog__close").css("display", "none");
                    // $(".childDialog").height(800);
                    // $(".childDialog").css("height","800px")
                    doApi(
                        function (res) {
                            // console.log(res)
                            if (res.status === 200) {
                                vm.fullscreen = true;
                                vm.row = res.data;

                                if (vm.row.frdbzp) {
                                    vm.frImageUrl = vm.getShowUrl(vm.row.frdbzp);
                                }
                                if (vm.row.fzrzp) {
                                    vm.fzrImageUrl = vm.getShowUrl(vm.row.fzrzp);
                                }
                                if (vm.row.zabwryzp) {
                                    vm.zabwryImageUrl = vm.getShowUrl(vm.row.zabwryzp);
                                }
                                if (vm.row.yyzzList) {
                                    vm.yyzzImgLists = vm.row.yyzzList;
                                    for(var i=0; i<vm.yyzzImgLists.length; i++) {
                                        vm.srcList.push(vm.getShowUrl(vm.yyzzImgLists[i].url));
                                    }
                                }
                                if (vm.row.aqscxkzList) {
                                    vm.aqscxkzImgLists = vm.row.aqscxkzList;
                                    for(var i=0; i<vm.aqscxkzImgLists.length; i++) {
                                        vm.srcList2.push(vm.getShowUrl(vm.aqscxkzImgLists[i].url));
                                    }
                                }
                                if (vm.row.ckxkzList) {
                                    vm.ckxkzImgLists = vm.row.ckxkzList;
                                    for(var i=0; i<vm.ckxkzImgLists.length; i++) {
                                        vm.srcList3.push(vm.getShowUrl(vm.ckxkzImgLists[i].url));
                                    }
                                }
                                if (vm.row.bpzydwxkzList) {
                                    vm.bpzydwxkzImgLists = vm.row.bpzydwxkzList;
                                    for(var i=0; i<vm.bpzydwxkzImgLists.length; i++) {
                                        vm.srcList4.push(vm.getShowUrl(vm.bpzydwxkzImgLists[i].url));
                                    }
                                }
                                if (vm.row.kgpfwjList) {
                                    vm.xgkgpfImgLists = vm.row.kgpfwjList;
                                    for(var i=0; i<vm.xgkgpfImgLists.length; i++) {
                                        vm.srcList5.push(vm.getShowUrl(vm.xgkgpfImgLists[i].url));
                                    }
                                }

                                vm.operated = 'edit';
                                vm.dialogShow = true;
                            }
                        }, null, null, params.serviceIp + '/SbdwJbqk/' + MapToId,
                        "get"
                    );
                },
                loadataOneDialog02:function(MapToId) {
                    vm.hotalShowOrNo = false
                    //隐藏关闭按钮
                    $(".el-dialog__close").css("display", "none");
                    // $(".childDialog").height(800);
                    // $(".childDialog").css("height","800px")
                    doApi(
                        function (res) {
                            // console.log(res)
                            if (res.status === 200) {
                                vm.fullscreen = true;
                                vm.safeCheckTbaleRow = res.data;
                                vm.policeVisitForm = res.data.policeVisitForm;
                                vm.safeCheckTbaleRow.sbqyArray = [];
                                vm.safeCheckTbaleRow.sbxmArray = [];
                                vm.jcqkArray = [];
                                //涉爆企业性质    qyxz
                                if (vm.safeCheckTbaleRow.qyxz) {
                                    vm.safeCheckTbaleRow.sbqyArray=vm.safeCheckTbaleRow.qyxz.split(',');
                                }
                                //涉爆项目        sbxm
                                if (vm.safeCheckTbaleRow.sbxm) {
                                    vm.safeCheckTbaleRow.sbxmArray=vm.safeCheckTbaleRow.sbxm.split(',');
                                }
                                //检查情况
                                if (vm.safeCheckTbaleRow.jcqk) {
                                    vm.tmpArr = vm.safeCheckTbaleRow.jcqk.split(',');
                                    for (var i=0; i<vm.tmpArr.length; i++) {
                                        if (vm.tmpArr[i] === '1') {
                                            vm.jcqkArray.push(i+1+'');
                                        }
                                    }
                                }

                                vm.operated = 'edit';
                                vm.hotalDialog = true;
                            }
                        }, null, null, params.serviceIp + '/SbdwAqjc/' + MapToId,
                        "get"
                    );
                },
                // 表单提交
                addRowSave: function (formName) {
                    this.$refs[formName].validate(function (valid) {
                        if (valid) {
                            vm.row.frdbcsrq = vm.frdbcsrq;
                            vm.row.fzrcsrq = vm.fzrcsrq;
                            vm.row.zabwrycsrq = vm.zabwrycsrq;
                            this.fd = new FormData();
                            // console.log(this.row)
                            for (var key in vm.row) {
                                let value = vm.row[key];
                                if(key=='tjNeedyHouseholdsFamilies'){
                                }
                                else if(key=='policeVisitForm'){
                                }
                                else if(key=='photograph'){
                                    this.fd.append(key,'');
                                }
                                else if (key=='pointPositionInfo'){
                                }
                                else if (key=='rkglCzrkxxbFamilies'){
                                }
                                else if (key=='yyzzList'){
                                }
                                else if (key=='aqscxkzList'){
                                }
                                else if (key=='ckxkzList'){
                                }
                                else if (key=='bpzydwxkzList'){
                                }
                                else if (key=='kgpfwjList'){
                                }
                                else {
                                    if(value != null){
                                        this.fd.append(key, value);
                                    }
                                }
                            }

                            var userData = JSON.parse(window.localStorage.getItem('userdata'));
                            if (vm.policeStation.length ===1 && userData.dptName === vm.policeStation[0].name) {
                                this.fd.append('fillPersonId', userData.id)
                                this.fd.append('fillPerson', userData.name)
                            } else if (vm.row.policeVisitForm) {
                                this.fd.append('fillPersonId', vm.row.policeVisitForm.fillPersonId)
                                this.fd.append('fillPerson', vm.row.policeVisitForm.fillPerson)
                            }

                            //图片
                            if (vm.multfileImg != null) {
                                this.fd.append('frdbzpFile', vm.multfileImg)
                            }if (vm.multfileImg02 != null) {
                                this.fd.append('fzrzpFile', vm.multfileImg02)
                            }if (vm.multfileImg03 != null) {
                                this.fd.append('zabwryzpFile', vm.multfileImg03)
                            }
                            // 营业执照
                            if (vm.fileYyzzLists){
                                for (let i = 0; i < vm.fileYyzzLists.length; i++) {
                                    this.fd.append('yyzzFile',vm.fileYyzzLists[i].raw);
                                }
                            }
                            // 安全生产许可证
                            if (vm.fileAqscxkzLists){
                                for (let i = 0; i < vm.fileAqscxkzLists.length; i++) {
                                    this.fd.append('aqscxkzFile',vm.fileAqscxkzLists[i].raw);
                                }
                            }
                            // 采矿许可证
                            if (vm.fileCkxkzLists){
                                for (let i = 0; i < vm.fileCkxkzLists.length; i++) {
                                    this.fd.append('ckxkzFile',vm.fileCkxkzLists[i].raw);
                                }
                            }
                            // 爆破作业单位许可证
                            if (vm.fileBpzydwxkzLists){
                                for (let i = 0; i < vm.fileBpzydwxkzLists.length; i++) {
                                    this.fd.append('bpzydwxkzFile',vm.fileBpzydwxkzLists[i].raw);
                                }
                            }
                            // 相关开工批复
                            if (vm.fileXgkgpfLists){
                                for (let i = 0; i < vm.fileXgkgpfLists.length; i++) {
                                    this.fd.append('kgpfwjFile',vm.fileXgkgpfLists[i].raw);
                                }
                            }

                            if (vm.operated=="add"){
                                doApiByFile(
                                    function(res) {
                                        if (res.status === 200) {
                                            // alert("成功")
                                            vm.addImportantRowSaves(res.data.id);
                                            vm.addCyRowSaves(res.data.id);
                                            vm.addRoomRowSaves(res.data.id);
                                            vm.dialogShow=false;
                                            vm.$message.info("新增成功！");
                                            vm.loadData();
                                        }else{
                                            vm.$message.error("新增失败！");
                                        }
                                    },
                                    null, null,params.serviceIp + '/SbdwJbqk/addDataAndFile', 'post',this.fd
                                );
                            }else if (vm.operated=='edit'){
                                doApiByFile(
                                    function(res) {
                                        if (res.status === 200) {
                                            vm.loadData();
                                            vm.dialogShow=false;
                                            vm.$message.info("修改成功！");
                                        }else{
                                            vm.$message.error("修改失败！");
                                        }
                                    },
                                    null, null,params.serviceIp + '/SbdwJbqk/updateDataAndFile', 'PUT',this.fd
                                );
                            }
                        } else {
                            return vm.$message.error("填报信息有缺失或错误！")
                        }
                    })
                },
                //--------------安全检查--BEGIN--
                deleteSafeCheckShowDetail:function(id){
                    vm.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        doApi(
                            function (res) {
                                // console.log(res);
                                if (res.status === 200){
                                    vm.$message.info("删除人员成功！");
                                    vm.hotalCheck(vm.hotalCheckTbaleRowID);
                                }else {
                                    vm.$message.error("删除人员失败！");
                                }
                            },null,null,params.serviceIp + '/SbdwAqjc/'+id,
                            "delete"
                        );
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                //显示单个检查表
                hotalShowDetail:function(row){
                    // console.log(row)
                    vm.safeCheckTbaleRow=row;
                    vm.policeVisitForm = row.policeVisitForm;
                    vm.safeCheckTbaleRow.sbqyArray = [];
                    vm.safeCheckTbaleRow.sbxmArray = [];
                    vm.jcqkArray = [];
                    //涉爆企业性质    qyxz
                    if (row.qyxz) {
                        vm.safeCheckTbaleRow.sbqyArray=row.qyxz.split(',');
                    }
                    //涉爆项目        sbxm
                    if (row.sbxm) {
                        vm.safeCheckTbaleRow.sbxmArray=row.sbxm.split(',');
                    }
                    //检查情况
                    if (row.jcqk) {
                        vm.tmpArr = row.jcqk.split(',');
                        for (var i=0; i<vm.tmpArr.length; i++) {
                            if (vm.tmpArr[i] === '1') {
                                vm.jcqkArray.push(i+1+'');
                            }
                        }
                    }
                },
                //切换页面
                hotalHandleCurrentChange:function(safeCheckPageIndex){
                    this.safeCheckPageIndex = safeCheckPageIndex;
                    this.hotalCheck(vm.hotalCheckTbaleRowID);
                },
                //关闭事件
                closeDialogHotalCheck:function(){
                    vm.safeCheckTbaleRow={};
                    vm.safeCheckTbaleRow.sbqyArray = [];
                    vm.safeCheckTbaleRow.sbxmArray = [];
                    vm.jcqkArray=[];
                },
                closeDialog:function(formName){
                    vm.frImageUrl='';
                    vm.fzrImageUrl='';
                    vm.zabwryImageUrl='';
                    vm.multfileImg = null;
                    vm.multfileImg02 = null;
                    vm.multfileImg03 = null;
                    vm.multfileImg04 = null;
                    vm.yyzzImgLists = [];
                    vm.aqscxkzImgLists = [];
                    vm.ckxkzImgLists = [];
                    vm.bpzydwxkzImgLists = [];
                    vm.xgkgpfImgLists = [];
                    vm.fileYyzzLists = [];
                    vm.fileAqscxkzLists = [];
                    vm.fileCkxkzLists = [];
                    vm.fileBpzydwxkzLists = [];
                    vm.fileXgkgpfLists = [];
                    vm.row={};
                    vm.cyChecktotal = 0;
                    vm.importantChecktotal = 0;
                    vm.roomChecktotal = 0;
                    vm.importantCheckTbaleRows = [];
                    vm.cyCheckTbaleRows = [];
                    vm.roomCheckTbaleRows = [];
                    vm.placeOfAbodeString='';
                    vm.loadData();
                    vm.$refs[formName].clearValidate();
                    vm.clearFilter();
                    vm.frdbcsrq = '';
                    vm.fzrcsrq = '';
                    vm.zabwrycsrq = '';
                    vm.birthday = '';
                },
                // 图片限制
                beforeAvatarUpload: function (file) {
                    vm.multfileImg = file;
                    const isJPG = file.type === 'image/jpeg';
                    const isPng = file.type === 'image/png';
                    if (!isJPG && !isPng) {
                        this.$message.error('上传图片格式只能为.jpg或.png!');
                    }
                    // const isLt10M = file.size / 1024 / 1024 < 10;
                    // if (!isLt10M) {
                    //     this.$message.error('上传头像图片大小不能超过 10MB!');
                    // }
                    return isJPG || isPng;
                },
                beforeAvatarUpload02: function (file) {
                    vm.multfileImg02 = file;
                    const isJPG = file.type === 'image/jpeg';
                    const isPng = file.type === 'image/png';
                    if (!isJPG && !isPng) {
                        this.$message.error('上传图片格式只能为.jpg或.png!');
                    }
                    // const isLt10M = file.size / 1024 / 1024 < 10;
                    // if (!isLt10M) {
                    //     this.$message.error('上传头像图片大小不能超过 10MB!');
                    // }
                    return isJPG || isPng;
                },
                beforeAvatarUpload03: function (file) {
                    vm.multfileImg03 = file;
                    const isJPG = file.type === 'image/jpeg';
                    const isPng = file.type === 'image/png';
                    if (!isJPG && !isPng) {
                        this.$message.error('上传图片格式只能为.jpg或.png!');
                    }
                    // const isLt10M = file.size / 1024 / 1024 < 10;
                    // if (!isLt10M) {
                    //     this.$message.error('上传头像图片大小不能超过 10MB!');
                    // }
                    return isJPG || isPng;
                },
                beforeAvatarUpload04: function (file) {
                    vm.multfileImg04 = file;
                    vm.importantCheckTbaleRow.multfileImg04 = vm.multfileImg04;
                    const isJPG = file.type === 'image/jpeg';
                    const isPng = file.type === 'image/png';
                    if (!isJPG && !isPng) {
                        this.$message.error('上传图片格式只能为.jpg或.png!');
                    }
                    // const isLt10M = file.size / 1024 / 1024 < 10;
                    // if (!isLt10M) {
                    //     this.$message.error('上传头像图片大小不能超过 10MB!');
                    // }
                    return isJPG || isPng;
                },
                beforeAvatarUpload05: function (file) {
                    const isJPG = file.type === 'image/jpeg';
                    const isPng = file.type === 'image/png';
                    if (!isJPG && !isPng) {
                        this.$message.error('上传图片格式只能为.jpg或.png!');
                    }
                    // const isLt10M = file.size / 1024 / 1024 < 10;
                    // if (!isLt10M) {
                    //     this.$message.error('上传头像图片大小不能超过 10MB!');
                    // }
                    return isJPG || isPng;
                },
                // 图片上传成功
                handleAvatarSuccess1: function (res, file) {
                    vm.frImageUrl = URL.createObjectURL(file.raw);
                    vm.multfileImg = file.raw;
                },
                handleAvatarSuccess2: function (res, file) {
                    vm.fzrImageUrl = URL.createObjectURL(file.raw);
                    vm.multfileImg02 = file.raw;
                },
                handleAvatarSuccess3: function (res, file) {
                    vm.zabwryImageUrl = URL.createObjectURL(file.raw);
                    vm.multfileImg03 = file.raw;
                },
                // 重点岗位人员信息
                handleAvatarSuccess4: function (res, file) {
                    vm.zdgwryImageUrl = URL.createObjectURL(file.raw);
                    vm.multfileImg04 = file.raw;
                    vm.importantCheckTbaleRow.photograph = vm.zdgwryImageUrl;
                    vm.importantCheckTbaleRow.multfileImg04 = vm.multfileImg04;
                },
                handleAvatarSuccess5: function (res, file) {
                    vm.zdgwryImageUrl02 = URL.createObjectURL(file.raw);
                    vm.multfileImg05 = file.raw;
                    vm.importantCheckTbaleRow.wffzjlcxfyj = vm.zdgwryImageUrl02;
                    vm.importantCheckTbaleRow.multfileImg05 = vm.multfileImg05;
                },
                handleAvatarSuccess6: function (res, file) {
                    vm.zdgwryImageUrl03 = URL.createObjectURL(file.raw);
                    vm.multfileImg06 = file.raw;
                    vm.importantCheckTbaleRow.sfzfyj = vm.zdgwryImageUrl03;
                    vm.importantCheckTbaleRow.multfileImg06 = vm.multfileImg06;
                },
                handleAvatarSuccess7: function (res, file) {
                    vm.zdgwryImageUrl04 = URL.createObjectURL(file.raw);
                    vm.multfileImg07 = file.raw;
                    vm.importantCheckTbaleRow.zgzfyj = vm.zdgwryImageUrl04;
                    vm.importantCheckTbaleRow.multfileImg07 = vm.multfileImg07;
                },
                // 危爆物品库室
                handleAvatarSuccess8: function (res, file) {
                    vm.wbwpksImageUrl = URL.createObjectURL(file.raw);
                    vm.multfileImg08 = file.raw;
                    vm.roomCheckTbaleRow.frontPhotograph = vm.wbwpksImageUrl;
                    vm.roomCheckTbaleRow.multfileImg08 = vm.multfileImg08;
                },
                handleAvatarSuccess9: function (res, file) {
                    vm.wbwpksImageUrl02 = URL.createObjectURL(file.raw);
                    vm.multfileImg09 = file.raw;
                    vm.roomCheckTbaleRow.sidePhotograph = vm.wbwpksImageUrl02;
                    vm.roomCheckTbaleRow.multfileImg09 = vm.multfileImg09;
                },
                handleAvatarSuccess10: function (res, file) {
                    vm.wbwpksImageUrl03 = URL.createObjectURL(file.raw);
                    vm.multfileImg10 = file.raw;
                    vm.roomCheckTbaleRow.aerialPhotograph = vm.wbwpksImageUrl03;
                    vm.roomCheckTbaleRow.multfileImg10 = vm.multfileImg10;
                },
                //表格 初始化
                hotalCheck:function(id){
                    vm.hotalCheckTbaleRowID=id;

                    // console.log(id);
                    doApi(
                        function (res) {
                            // console.log(res);
                            if(res.status === 200) {
                                vm.safeCheckTbaleRows= res.data.rows;
                                vm.safeChecktotal =res.data.total;

                                // console.log("赋值完毕")
                            }
                        },null,null,params.serviceIp + '/SbdwAqjc/listByParentId',
                        "get",{
                            'sbdwJbqkId':vm.hotalCheckTbaleRowID,
                            'page':vm.safeCheckPageIndex,
                            'limit':vm.safeCheckPageSize
                        }
                    );
                    vm.hotalDialog=true;
                },
                //--------------安全检查--END----

                //----------重点岗位人员信息--BEGIN--
                // 批量删除
                deleteZdgwryxxList: function (){
                    vm.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        if (vm.row.id) {
                            var delIds = [];
                            for ( var i=0;i<vm.saveSelectRows02.length;i++ ){
                                var row=vm.saveSelectRows02[i];
                                delIds.push(row.id);
                            }
                            doApiByJsonstr(
                                function(res) {
                                    if (res.status === 200) {
                                        vm.importantCheckPageIndex = 1;
                                        vm.importantPersonCheck(vm.importantTbaleRowID);
                                        vm.importantDialog = false;
                                        vm.clearFilter();
                                        vm.$message.info("批量删除成功！");
                                    }else{
                                        vm.$message.error("批量删除失败！");
                                    }
                                },
                                null, null, params.serviceIp + '/SbdwZdgwryxxdjb/batchDelete', 'post',delIds
                            );
                        } else {
                            for (var i=vm.importantCheckTbaleRows.length-1; i>=0; i--) {
                                for (key in vm.indexLists) {
                                    if (i === vm.indexLists[key]) {
                                        vm.importantCheckTbaleRows.splice(i, 1)
                                    }
                                }
                            }
                            vm.importantChecktotal = vm.importantCheckTbaleRows.length;
                            vm.clearFilter();
                        }
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                //显示单个检查表
                importantShowDetail:function(row, index){
                    // console.log(row)
                    vm.activeName02 = 'one';
                    vm.importantCheckTbaleRow = row;
                    vm.birthday = vm.importantCheckTbaleRow.birthday;
                    vm.importantIndex = index;
                    vm.operated02 = 'edit';
                    vm.importantCheckTbaleRow.wffzjlcxfyjDelIds = [];
                    vm.srcList6 = [];
                    vm.srcList7 = [];
                    vm.srcList8 = [];

                    if (row.photograph && vm.row.id) {
                        vm.zdgwryImageUrl = vm.getShowUrl(row.photograph);
                    } else {
                        vm.zdgwryImageUrl = row.photograph;
                    }
                    if (row.wffzjlcxfyjList) {
                        vm.wffzjlImgLists = row.wffzjlcxfyjList;
                        for(var i=0; i<vm.wffzjlImgLists.length; i++) {
                            vm.srcList6.push(vm.getShowUrl(vm.wffzjlImgLists[i].url));
                        }
                    }
                    if (row.sfzfyjList) {
                        vm.sfzImgLists = row.sfzfyjList;
                        for(var i=0; i<vm.sfzImgLists.length; i++) {
                            vm.srcList7.push(vm.getShowUrl(vm.sfzImgLists[i].url));
                        }
                    }
                    if (row.zgzfyjList) {
                        vm.zgzImgLists = row.zgzfyjList;
                        for(var i=0; i<vm.zgzImgLists.length; i++) {
                            vm.srcList8.push(vm.getShowUrl(vm.zgzImgLists[i].url));
                        }
                    }
                    vm.importantDialog = true;
                },
                //分页切换页面
                importantHandleCurrentChange:function(importantCheckPageIndex){
                    if (vm.flag=='重点'){
                        vm.importantCheckPageIndex = importantCheckPageIndex;
                        vm.importantPersonCheck(vm.importantTbaleRowID);
                    }
                },
                //关闭事件
                closeDialogImportantPersonCheck:function(formName){
                    vm.importantCheckTbaleRow = {};
                    vm.activeName02 = 'one'
                    vm.birthday = '';
                    vm.zdgwryImageUrl = '';
                    vm.zdgwryImageUrl02 = '';
                    vm.zdgwryImageUrl03 = '';
                    vm.zdgwryImageUrl04 = '';
                    vm.multfileImg04 = null;
                    vm.multfileImg05 = null;
                    vm.multfileImg06 = null;
                    vm.multfileImg07 = null;
                    vm.wffzjlImgLists = [];
                    vm.sfzImgLists = [];
                    vm.zgzImgLists = [];
                    vm.fileWffzjlLists = [];
                    vm.fileSfzLists = [];
                    vm.fileZgzLists = [];
                    if (vm.row.id) {
                        vm.importantPersonCheck(vm.row.id);
                    }
                    vm.$refs[formName].clearValidate();
                },
                //表格初始化
                importantPersonCheck:function(id){
                    vm.importantTbaleRowID = id;
                    // console.log(id);
                    doApi(
                        function (res) {
                            // console.log(res);
                            if(res.status === 200) {
                                vm.importantCheckTbaleRows = res.data.rows;
                                vm.importantChecktotal = res.data.total;
                                vm.flag='重点';
                            }
                        },null,null,params.serviceIp + '/SbdwZdgwryxxdjb/listByDWId',
                        "get",{
                            'sbdwJbqkId':vm.importantTbaleRowID,
                            'page':vm.importantCheckPageIndex,
                            'limit':vm.importantCheckPageSize
                        }
                    );
                },
                // 提交表单
                addImportantRowSave: function (formName) {
                    this.$refs[formName].validate(function (valid) {
                        if (valid) {
                            vm.importantCheckTbaleRow.birthday = vm.birthday;
                            if (vm.row.id) {
                                this.fd = new FormData();
                                for (var key in vm.importantCheckTbaleRow) {
                                    let value = vm.importantCheckTbaleRow[key];
                                    if(key=='tjNeedyHouseholdsFamilies'){
                                    }
                                    else if(key=='policeVisitForm'){
                                    }
                                    //不能传 数据库自动生成的时间，否则400
                                    else if (key=='pointPositionInfo'){
                                    }
                                    else if (key=='rkglCzrkxxbFamilies'){
                                    }
                                    else if (key=='photograph'){
                                    }
                                    else if (key=='wffzjlcxfyjList'){
                                    }
                                    else if (key=='sfzfyjList'){
                                    }
                                    else if (key=='zgzfyjList'){
                                    }
                                    else {
                                        if(value != null){
                                            this.fd.append(key, value);
                                        }
                                    }
                                }

                                if (vm.importantTbaleRowID != null) {
                                    this.fd.append('sbdwJbqkId', vm.importantTbaleRowID)
                                }
                                if (vm.multfileImg04 != null) {
                                    this.fd.append('photographFile', vm.multfileImg04)
                                }
                                // 违法犯罪记录查询复印件
                                if (vm.fileWffzjlLists){
                                    for (let i = 0; i < vm.fileWffzjlLists.length; i++) {
                                        this.fd.append('wffzjlcxfyjFile',vm.fileWffzjlLists[i].raw);
                                    }
                                }
                                // 身份证复印件
                                if (vm.fileSfzLists){
                                    for (let i = 0; i < vm.fileSfzLists.length; i++) {
                                        this.fd.append('sfzfyjFile',vm.fileSfzLists[i].raw);
                                    }
                                }
                                // 资格证复印件
                                if (vm.fileZgzLists){
                                    for (let i = 0; i < vm.fileZgzLists.length; i++) {
                                        this.fd.append('zgzfyjFile',vm.fileZgzLists[i].raw);
                                    }
                                }

                                if (vm.operated02 == "add"){
                                        doApiByFile(
                                            function(res) {
                                                if (res.status === 200) {
                                                    // alert("成功")
                                                    vm.importantDialog = false;
                                                    vm.$message.info("新增成功！");
                                                    vm.importantPersonCheck(vm.importantTbaleRowID);
                                                }else{
                                                    vm.$message.error("新增失败！");
                                                }
                                            },
                                            null, null,params.serviceIp + '/SbdwZdgwryxxdjb/addDataAndFile', 'post',this.fd
                                        );
                                }else if (vm.operated02 == 'edit'){
                                    doApiByFile(
                                        function(res) {
                                            if (res.status === 200) {
                                                vm.importantPersonCheck(vm.importantTbaleRowID);
                                                vm.importantDialog = false;
                                                vm.$message.info("修改成功！");
                                            }else{
                                                vm.$message.error("修改失败！");
                                            }
                                        },
                                        null, null,params.serviceIp + '/SbdwZdgwryxxdjb/updateDataAndFile', 'PUT',this.fd
                                    );
                                }
                            } else if (vm.operated02 == "add") {
                                vm.importantCheckTbaleRow.wffzjlcxfyjList = vm.fileWffzjlLists;
                                vm.importantCheckTbaleRow.sfzfyjList = vm.fileSfzLists;
                                vm.importantCheckTbaleRow.zgzfyjList = vm.fileZgzLists;
                                vm.importantCheckTbaleRows.push(vm.importantCheckTbaleRow);
                                // console.log(vm.importantCheckTbaleRows);
                                vm.importantDialog = false;
                                vm.importantChecktotal = vm.importantCheckTbaleRows.length;
                                vm.$message.info("新增重点岗位人员成功！");
                            } else {
                                for(var i=0; i<vm.fileWffzjlLists.length; i++) {
                                    vm.importantCheckTbaleRow.wffzjlcxfyjList.push(vm.fileWffzjlLists[i]);
                                }
                                for(var i=0; i<vm.fileSfzLists.length; i++) {
                                    vm.importantCheckTbaleRow.sfzfyjList.push(vm.fileSfzLists[i]);
                                }
                                for(var i=0; i<vm.fileZgzLists.length; i++) {
                                    vm.importantCheckTbaleRow.zgzfyjList.push(vm.fileZgzLists[i]);
                                }
                                vm.importantCheckTbaleRows.splice(vm.importantIndex, 1, vm.importantCheckTbaleRow);
                                vm.importantDialog = false;
                                vm.$message.info("修改重点岗位人员成功！");
                            }
                        } else {
                            return vm.$message.error("填报信息有缺失或错误！")
                        }
                    })
                },
                // 新增时添加重点岗位人员
                addImportantRowSaves: function (id) {
                    vm.importantCheckTbaleRow.birthday = vm.birthday;
                    for (var i=0; i<vm.importantCheckTbaleRows.length; i++) {
                        this.fd = new FormData();
                        for (var key in vm.importantCheckTbaleRows[i]) {
                            let value = vm.importantCheckTbaleRows[i][key];
                            if(key=='tjNeedyHouseholdsFamilies'){
                            }
                            else if(key=='policeVisitForm'){
                            }
                            //不能传 数据库自动生成的时间，否则400
                            else if (key=='pointPositionInfo'){
                            }
                            else if (key=='rkglCzrkxxbFamilies'){
                            }
                            else if (key=='photograph'){
                            }
                            else if (key=='wffzjlcxfyj'){
                            }
                            else if (key=='sfzfyj'){
                            }
                            else if (key=='zgzfyj'){
                            }
                            else if (key=='multfileImg04'){
                                this.fd.append('photographFile', vm.importantCheckTbaleRows[i][key])
                            }
                            else if (key=='wffzjlcxfyjList'){
                                for (let j = 0; j < vm.importantCheckTbaleRows[i][key].length; j++) {
                                    this.fd.append('wffzjlcxfyjFile',vm.importantCheckTbaleRows[i][key][j].raw);
                                }
                                // this.fd.append('wffzjlcxfyjFile', vm.importantCheckTbaleRows[i][key]);
                            }
                            else if (key=='sfzfyjList'){
                                for (let j = 0; j < vm.importantCheckTbaleRows[i][key].length; j++) {
                                    this.fd.append('sfzfyjFile',vm.importantCheckTbaleRows[i][key][j].raw);
                                }
                                // this.fd.append('sfzfyjFile', vm.importantCheckTbaleRows[i][key]);
                            }
                            else if (key=='zgzfyjList'){
                                for (let j = 0; j < vm.importantCheckTbaleRows[i][key].length; j++) {
                                    this.fd.append('zgzfyjFile',vm.importantCheckTbaleRows[i][key][j].raw);
                                }
                                // this.fd.append('zgzfyjFile', vm.importantCheckTbaleRows[i][key]);
                            }
                            else {
                                if(value != null){
                                    this.fd.append(key, value);
                                }
                            }
                        }

                        if (id != null) {
                            this.fd.append('sbdwJbqkId', id)
                        }

                        doApiByFile(
                            function(res) {
                                if (res.status === 200) {
                                    // alert("成功")
                                    vm.importantDialog = false;
                                    // vm.$message.info("新增成功！");
                                }else{
                                    vm.$message.error("新增失败！");
                                }
                            },
                            null, null,params.serviceIp + '/SbdwZdgwryxxdjb/addDataAndFile', 'post',this.fd
                        );
                    }
                },
                // 新增重点岗位人员
                addZdgwryxxList: function () {
                    vm.operated02 = 'add';
                    vm.importantDialog = true;
                },
                //----------重点岗位人员信息--END----

                //----------从业人员--BEGIN--
                // 批量删除
                deleteCyryxxList:function(){
                    vm.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        if (vm.row.id) {
                            var delIds = [];
                            for ( var i=0;i<vm.saveSelectRows03.length;i++ ){
                                var row = vm.saveSelectRows03[i];
                                delIds.push(row.id);
                            }
                            doApiByJsonstr(
                                function(res) {
                                    if (res.status === 200) {
                                        vm.cyCheckPageIndex = 1;
                                        vm.cyPersonCheck(vm.cyTbaleRowID);
                                        vm.cyDialog = false;
                                        vm.clearFilter();
                                        vm.$message.info("批量删除成功！");
                                    }else{
                                        vm.$message.error("批量删除失败！");
                                    }
                                },
                                null, null, params.serviceIp + '/SbdwCyryxxb/batchDelete', 'post',delIds
                            );
                        } else {
                            for (var i=vm.cyCheckTbaleRows.length-1; i>=0; i--) {
                                for (key in vm.indexLists) {
                                    if (i === vm.indexLists[key]) {
                                        vm.cyCheckTbaleRows.splice(i, 1)
                                    }
                                }
                            }
                            vm.cyChecktotal = vm.cyCheckTbaleRows.length;
                            vm.clearFilter();
                        }
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                //显示单个检查表
                cyShowDetail:function(row, index){
                    vm.cyCheckTbaleRow = row;
                    vm.birthday = vm.cyCheckTbaleRow.birthday;
                    vm.cyIndex = index;
                    vm.operated03 = 'edit';
                    vm.cyDialog = true;
                    // console.log(row);
                },
                //分页切换页面
                cyHandleCurrentChange:function(cyCheckPageIndex){
                    vm.cyCheckPageIndex = cyCheckPageIndex;
                    vm.cyPersonCheck(vm.cyTbaleRowID);
                },
                //关闭事件
                closeDialogcyPersonCheck:function(formName){
                    vm.cyCheckTbaleRow = {};
                    vm.birthday = '';
                    if (vm.row.id) {
                        vm.cyPersonCheck(vm.row.id);
                    }
                    vm.$refs[formName].clearValidate();
                },
                //表格初始化
                cyPersonCheck:function(id){
                    vm.cyTbaleRowID = id;
                    // console.log(id);
                    doApi(
                        function (res) {
                            if(res.status === 200) {
                                vm.cyCheckTbaleRows= res.data.rows;
                                vm.cyChecktotal = res.data.total;
                            }
                        },null,null,params.serviceIp + '/SbdwCyryxxb/listByParentId',
                        "get",{
                            'sbdwJbqkId':vm.cyTbaleRowID,
                            'page':vm.cyCheckPageIndex,
                            'limit':vm.cyCheckPageSize
                        }
                    );
                },
                // 提交表单
                addCyRowSave: function (formName) {
                    this.$refs[formName].validate(function (valid) {
                        if (valid) {
                            vm.cyCheckTbaleRow.birthday = vm.birthday;
                            if (vm.row.id) {
                                this.fd = new FormData();
                                for (var key in vm.cyCheckTbaleRow) {
                                    let value = vm.cyCheckTbaleRow[key];
                                    if(key=='tjNeedyHouseholdsFamilies'){
                                    }
                                    else if(key=='policeVisitForm'){
                                    }
                                    else if(key=='photograph'){
                                        this.fd.append(key,'');
                                    }
                                    else if (key=='pointPositionInfo'){
                                    }
                                    else if (key=='rkglCzrkxxbFamilies'){
                                    }
                                    else {
                                        if(value != null){
                                            this.fd.append(key, value);
                                        }

                                    }
                                }

                                if (vm.cyTbaleRowID != null) {
                                    this.fd.append('sbdwJbqkId', vm.cyTbaleRowID)
                                }

                                if (vm.operated03 == "add"){
                                        doApiByFile(
                                            function(res) {
                                                if (res.status === 200) {
                                                    // alert("成功")
                                                    vm.cyDialog = false;
                                                    vm.$message.info("新增成功！");
                                                    vm.cyPersonCheck(vm.cyTbaleRowID);
                                                }else{
                                                    vm.$message.error("新增失败！");
                                                }
                                            },
                                            null, null,params.serviceIp + '/SbdwCyryxxb/addData', 'post',this.fd
                                        );
                                }else if (vm.operated03 == 'edit'){
                                    doApiByFile(
                                        function(res) {
                                            if (res.status === 200) {
                                                vm.cyPersonCheck(vm.cyTbaleRowID);
                                                vm.cyDialog = false;
                                                vm.$message.info("修改成功！");
                                            }else{
                                                vm.$message.error("修改失败！");
                                            }
                                        },
                                        null, null,params.serviceIp + '/SbdwCyryxxb/updateData', 'PUT',this.fd
                                    );
                                }
                            } else if (vm.operated03 == "add") {
                                vm.cyCheckTbaleRows.push(vm.cyCheckTbaleRow);
                                vm.cyDialog = false;
                                vm.cyChecktotal = vm.cyCheckTbaleRows.length;
                                vm.$message.info("新增从业人员成功！");
                            } else {
                                vm.cyCheckTbaleRows.splice(vm.cyIndex, 1, vm.cyCheckTbaleRow);
                                vm.cyDialog = false;
                                vm.$message.info("修改从业人员成功！");
                            }
                        } else {
                            return vm.$message.error("填报信息有缺失或错误！")
                        }
                    })
                },
                // 新增时添加从业人员
                addCyRowSaves: function (id) {
                    vm.cyCheckTbaleRow.birthday = vm.birthday;
                    for (var i=0; i<vm.cyCheckTbaleRows.length; i++) {
                        this.fd = new FormData();
                        for (var key in vm.cyCheckTbaleRows[i]) {
                            let value = vm.cyCheckTbaleRows[i][key];
                            if(key=='tjNeedyHouseholdsFamilies'){
                            }
                            else if(key=='policeVisitForm'){
                            }
                            //不能传 数据库自动生成的时间，否则400
                            else if (key=='pointPositionInfo'){
                            }
                            else if (key=='rkglCzrkxxbFamilies'){
                            }
                            else {
                                if(value != null){
                                    this.fd.append(key, value);
                                }
                            }
                        }

                        if (id != null) {
                            this.fd.append('sbdwJbqkId', id)
                        }

                        doApiByFile(
                            function(res) {
                                if (res.status === 200) {
                                    // alert("成功")
                                    vm.cyDialog = false;
                                    // vm.$message.info("新增成功！");
                                }else{
                                    vm.$message.error("新增失败！");
                                }
                            },
                            null, null,params.serviceIp + '/SbdwCyryxxb/addData', 'post',this.fd
                        );
                    }
                },
                // 新增从业人员
                addCyryxxList: function () {
                    vm.operated03 = 'add';
                    vm.cyDialog = true;
                },
                //---------从业人员--END----

                //---------危爆物品库室--BEGIN-----
                // 批量删除
                deleteWbwpksList: function () {
                    vm.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        if (vm.row.id) {
                            var delIds = [];
                            for ( var i=0;i<vm.saveSelectRows04.length;i++ ){
                                var row = vm.saveSelectRows04[i];
                                delIds.push(row.id);
                            }
                            doApiByJsonstr(
                                function(res) {
                                    if (res.status === 200) {
                                        vm.roomCheckPageIndex = 1;
                                        vm.roomCheck(vm.roomTbaleRowID);
                                        vm.roomDialog = false;
                                        vm.clearFilter();
                                        vm.$message.info("批量删除成功！");
                                    }else{
                                        vm.$message.error("批量删除失败！");
                                    }
                                },
                                null, null, params.serviceIp + '/SbdwWbwpks/batchDelete', 'post',delIds
                            );
                        } else {
                            for (var i=vm.roomCheckTbaleRows.length-1; i>=0; i--) {
                                for (key in vm.indexLists) {
                                    if (i === vm.indexLists[key]) {
                                        vm.roomCheckTbaleRows.splice(i, 1)
                                    }
                                }
                            }
                            vm.roomChecktotal = vm.roomCheckTbaleRows.length;
                            vm.clearFilter();
                        }
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                //显示单个检查表
                roomShowDetail:function(row, index){
                    // console.log(row);
                    vm.activeName03 = 'one';
                    vm.roomCheckTbaleRow = row;
                    vm.roomIndex = index;
                    vm.operated04 = 'edit';
                    vm.roomCheckTbaleRow.frontPhotographDelIds = [];
                    vm.srcList9 = [];
                    vm.srcList10 = [];
                    vm.srcList11 = [];

                    if (row.frontPhotographList) {
                        vm.zmzImgLists = row.frontPhotographList;
                        for(var i=0; i<vm.zmzImgLists.length; i++) {
                            vm.srcList9.push(vm.getShowUrl(vm.zmzImgLists[i].url));
                        }
                    }
                    if (row.sidePhotographList) {
                        vm.cmzImgLists = row.sidePhotographList;
                        for(var i=0; i<vm.cmzImgLists.length; i++) {
                            vm.srcList10.push(vm.getShowUrl(vm.cmzImgLists[i].url));
                        }
                    }
                    if (row.aerialPhotographList) {
                        vm.hpzImgLists = row.aerialPhotographList;
                        for(var i=0; i<vm.hpzImgLists.length; i++) {
                            vm.srcList11.push(vm.getShowUrl(vm.hpzImgLists[i].url));
                        }
                    }
                    vm.roomDialog = true;
                },
                //分页切换页面
                roomHandleCurrentChange:function(roomCheckPageIndex){
                    vm.roomCheckPageIndex = roomCheckPageIndex;
                    vm.roomCheck(vm.roomTbaleRowID);
                },
                //关闭事件
                closeDialogRoomCheck:function(){
                    vm.roomCheckTbaleRow = {};
                    vm.activeName03 = 'one';
                    vm.wbwpksImageUrl = '';
                    vm.wbwpksImageUrl02 = '';
                    vm.wbwpksImageUrl03 = '';
                    vm.multfileImg08 = null;
                    vm.multfileImg09 = null;
                    vm.multfileImg10 = null;
                    vm.zmzImgLists = [];
                    vm.cmzImgLists = [];
                    vm.hpzImgLists = [];
                    vm.fileZmzLists = [];
                    vm.fileCmzLists = [];
                    vm.fileHpzLists = [];
                    vm.roomPersonRows = [];
                    if (vm.row.id) {
                        vm.roomCheck(vm.row.id);
                    }
                },
                //表格初始化
                roomCheck: function (id){
                    vm.roomTbaleRowID = id;
                    // console.log(id);
                    doApi(
                        function (res) {
                            // console.log(res);
                            if(res.status === 200) {
                                vm.roomCheckTbaleRows = res.data.rows;
                                vm.roomChecktotal = res.data.total;
                            }
                        },null,null,params.serviceIp + '/SbdwWbwpks/listByDWId',
                        "get",{
                            'sbdwJbqkId':vm.roomTbaleRowID,
                            'page':vm.roomCheckPageIndex,
                            'limit':vm.roomCheckPageSize
                        }
                    );
                },
                // 提交表单
                addRoomRowSave: function () {
                    if (vm.row.id) {
                        this.fd = new FormData();
                        for (var key in vm.roomCheckTbaleRow) {
                            let value = vm.roomCheckTbaleRow[key];
                            if(key=='tjNeedyHouseholdsFamilies'){
                            }
                            else if(key=='policeVisitForm'){
                            }
                            else if(key=='photograph'){
                                this.fd.append(key,'');
                            }
                            else if (key=='pointPositionInfo'){
                            }
                            else if (key=='rkglCzrkxxbFamilies'){
                            }
                            else if (key=='sbdwWbwpksglries'){
                            }
                            else if (key=='frontPhotographList'){
                            }
                            else if (key=='sidePhotographList'){
                            }
                            else if (key=='aerialPhotographList'){
                            }
                            else {
                                if(value != null){
                                    this.fd.append(key, value);
                                }
                            }
                        }

                        if (vm.roomTbaleRowID != null) {
                            this.fd.append('sbdwJbqkId', vm.roomTbaleRowID)
                        }
                        // 正面照
                        if (vm.fileZmzLists){
                            for (let i = 0; i < vm.fileZmzLists.length; i++) {
                                this.fd.append('frontPhotographFile',vm.fileZmzLists[i].raw);
                            }
                        }
                        // 侧面照
                        if (vm.fileCmzLists){
                            for (let i = 0; i < vm.fileCmzLists.length; i++) {
                                this.fd.append('sidePhotographFile',vm.fileCmzLists[i].raw);
                            }
                        }
                        // 航拍照
                        if (vm.fileHpzLists){
                            for (let i = 0; i < vm.fileHpzLists.length; i++) {
                                this.fd.append('aerialPhotographFile',vm.fileHpzLists[i].raw);
                            }
                        }

                        if (vm.operated04 == "add"){
                            doApiByFile(
                                function(res) {
                                    if (res.status === 200) {
                                        // alert("成功")
                                        vm.roomDialog = false;
                                        vm.$message.info("新增成功！");
                                        vm.roomCheck(vm.roomTbaleRowID);
                                    }else{
                                        vm.$message.error("新增失败！");
                                    }
                                },
                                null, null,params.serviceIp + '/SbdwWbwpks/addDataAndFile', 'post',this.fd
                            );
                        }else if (vm.operated04 == 'edit'){
                            doApiByFile(
                                function(res) {
                                    if (res.status === 200) {
                                        vm.roomCheck(vm.roomTbaleRowID);
                                        vm.roomDialog = false;
                                        vm.$message.info("修改成功！");
                                    }else{
                                        vm.$message.error("修改失败！");
                                    }
                                },
                                null, null,params.serviceIp + '/SbdwWbwpks/updateDataAndFile', 'PUT',this.fd
                            );
                        }
                    } else if (vm.operated04 == "add") {
                        vm.roomCheckTbaleRow.frontPhotographList = vm.fileZmzLists;
                        vm.roomCheckTbaleRow.sidePhotographList = vm.fileCmzLists;
                        vm.roomCheckTbaleRow.aerialPhotographList = vm.fileHpzLists;
                        vm.roomCheckTbaleRows.push(vm.roomCheckTbaleRow);
                        vm.roomCheckTbaleRowsTest = vm.roomCheckTbaleRows;
                        vm.roomDialog = false;
                        vm.roomChecktotal = vm.roomCheckTbaleRows.length;
                        vm.$message.info("新增危爆物品库室成功！");
                    } else {
                        for(var i=0; i<vm.fileZmzLists.length; i++) {
                            vm.roomCheckTbaleRow.frontPhotographList.push(vm.fileZmzLists[i]);
                        }
                        for(var i=0; i<vm.fileCmzLists.length; i++) {
                            vm.roomCheckTbaleRow.sidePhotographList.push(vm.fileCmzLists[i]);
                        }
                        for(var i=0; i<vm.fileHpzLists.length; i++) {
                            vm.roomCheckTbaleRow.aerialPhotographList.push(vm.fileHpzLists[i]);
                        }
                        vm.roomCheckTbaleRows.splice(vm.roomIndex, 1, vm.roomCheckTbaleRow);
                        vm.roomCheckTbaleRowsTest = vm.roomCheckTbaleRows;
                        vm.roomDialog = false;
                        vm.$message.info("修改危爆物品库室成功！");
                    }
                },
                // 新增时添加危爆物品库室
                addRoomRowSaves: function (id) {
                    for (let i=0; i<vm.roomCheckTbaleRows.length; i++) {
                        this.fd = new FormData();
                        for (var key in vm.roomCheckTbaleRows[i]) {
                            let value = vm.roomCheckTbaleRows[i][key];
                            if(key=='tjNeedyHouseholdsFamilies'){
                            }
                            else if(key=='policeVisitForm'){
                            }
                            //不能传 数据库自动生成的时间，否则400
                            else if (key=='pointPositionInfo'){
                            }
                            else if (key=='rkglCzrkxxbFamilies'){
                            }
                            else if (key=='frontPhotograph'){
                            }
                            else if (key=='sidePhotograph'){
                            }
                            else if (key=='aerialPhotograph'){
                            }
                            else if (key=='frontPhotographList'){
                                for (let j = 0; j < vm.roomCheckTbaleRows[i][key].length; j++) {
                                    this.fd.append('frontPhotographFile',vm.roomCheckTbaleRows[i][key][j].raw);
                                }
                                // this.fd.append('frontPhotographFile', vm.roomCheckTbaleRows[i][key]);
                            }
                            else if (key=='sidePhotographList'){
                                for (let j = 0; j < vm.roomCheckTbaleRows[i][key].length; j++) {
                                    this.fd.append('sidePhotographFile',vm.roomCheckTbaleRows[i][key][j].raw);
                                }
                                // this.fd.append('sidePhotographFile', vm.roomCheckTbaleRows[i][key]);
                            }
                            else if (key=='aerialPhotographList'){
                                for (let j = 0; j < vm.roomCheckTbaleRows[i][key].length; j++) {
                                    this.fd.append('aerialPhotographFile',vm.roomCheckTbaleRows[i][key][j].raw);
                                }
                                // this.fd.append('aerialPhotographFile', vm.roomCheckTbaleRows[i][key]);
                            }
                            else {
                                if(value != null){
                                    this.fd.append(key, value);
                                }
                            }
                        }

                        if (id != null) {
                            this.fd.append('sbdwJbqkId', id)
                        }

                        doApiByFile(
                            function(res) {
                                if (res.status === 200) {
                                    // alert("成功")
                                    // vm.addroomPersonRows(res.data.id, vm.roomCheckTbaleRowsTest[i].roomPersonRows);
                                    vm.addroomPersonRows(res.data.id, vm.roomCheckTbaleRows[i].roomPersonRows);
                                    vm.roomDialog = false;
                                    // vm.$message.info("新增成功！");
                                }else{
                                    vm.$message.error("新增失败！");
                                }
                            },
                            null, null,params.serviceIp + '/SbdwWbwpks/addDataAndFile', 'post',this.fd,false
                        );
                    }
                },
                // 新增危爆物品
                addWbwpksList: function () {
                    vm.operated04 = 'add';
                    vm.roomDialog = true;
                },
                //--------危爆物品库室--END------

                // ------危爆物品库室管理人员------
                // 编辑
                editroomPerson: function (row, index) {
                    vm.roomPersonRow = row;
                    vm.operated05 = 'edit';
                    vm.roomPersonIndex = index;
                    vm.roomPersonDialog = true;
                },
                // 新增
                addroomPerson: function () {
                    vm.operated05 = 'add';
                    vm.roomPersonDialog = true;
                },
                // 关闭
                closeDialogroomPerson: function (formName) {
                    vm.roomPersonRow = {};
                    if (vm.roomCheckTbaleRow.id) {
                        vm.loadDataRoomPerson(vm.roomCheckTbaleRow.id);
                    }
                    vm.$refs[formName].clearValidate();
                },
                // 删除
                deleteroomPerson: function (id, index) {
                    vm.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        if (vm.row.id) {
                            doApi(
                                function (res) {
                                    if(res.status === 200) {
                                        vm.$message({
                                            message: '删除成功!',
                                            type: 'success'
                                        });
                                        vm.loadDataRoomPerson(vm.roomCheckTbaleRow.id);
                                    }
                                },null,null,params.serviceIp + '/SbdwWbwpksglry/' + id, "delete"
                            );
                        } else {
                            vm.roomPersonRows.splice(index, 1);
                        }
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                // 提交
                addroomPersonRow: function (formName) {
                    this.$refs[formName].validate(function (valid) {
                        if (valid) {
                            if (vm.roomCheckTbaleRow.id) {
                                this.fd = new FormData();
                                for (var key in vm.roomPersonRow) {
                                    let value = vm.roomPersonRow[key];
                                    if (key == 'joinTime') {
                                        let transDate = new Date(value);
                                        this.fd.append(key,transDate);
                                    } else if (key == 'policeVisitForm') {
                                    } else {
                                        if (value != null) {
                                            this.fd.append(key, value);
                                        }
                                    }
                                }

                                if (vm.roomCheckTbaleRow.id != null) {
                                    this.fd.append('sbdwWbwpksId', vm.roomCheckTbaleRow.id);
                                }

                                if (vm.operated05 == 'add') {
                                    doApiByFile(
                                        function (res) {
                                            if(res.status === 200) {
                                                vm.roomPersonDialog = false;
                                                vm.$message.info("新增危爆物品库室管理人员成功！");
                                                vm.loadDataRoomPerson(vm.roomCheckTbaleRow.id)
                                            } else{
                                                vm.$message.error("新增失败！");
                                            }
                                        },null,null,params.serviceIp + '/SbdwWbwpksglry/addData',"post", this.fd
                                    );
                                } else if (vm.operated05 == 'edit') {
                                    doApiByFile(
                                        function (res) {
                                            if(res.status === 200) {
                                                vm.roomPersonDialog = false;
                                                vm.$message.info("修改危爆物品库室管理人员成功！");
                                                vm.loadDataRoomPerson(vm.roomCheckTbaleRow.id);
                                            } else{
                                                vm.$message.error("修改失败！");
                                            }
                                        },null,null,params.serviceIp + '/SbdwWbwpksglry/updateData', "PUT", this.fd
                                    );
                                }
                            } else if (vm.operated05 == 'add') {
                                vm.roomPersonRows.push(vm.roomPersonRow);
                                vm.roomCheckTbaleRow.roomPersonRows = vm.roomPersonRows;
                                vm.roomPersonDialog = false;
                                vm.$message.info("新增危爆物品库室管理人员成功！");
                            } else {
                                vm.roomPersonRows.splice(vm.roomPersonIndex, 1, vm.roomPersonRow);
                                vm.roomCheckTbaleRow.roomPersonRows = vm.roomPersonRows;
                                vm.roomPersonDialog = false;
                                vm.$message.info("修改危爆物品库室管理人员成功！");
                            }
                        } else {
                            return vm.$message.error("填报信息有缺失或错误！")
                        }
                    })
                },
                // 新增时添加
                addroomPersonRows: function (id, rows) {
                    for (var i=0; i<rows.length; i++) {
                        this.fd = new FormData();
                        for (var key in rows[i]) {
                            let value = rows[i][key];
                            if (key == 'joinTime') {
                                let transDate = new Date(value);
                                this.fd.append(key,transDate);
                            } else if (key == 'policeVisitForm') {
                            } else {
                                if (value != null) {
                                    this.fd.append(key, value);
                                }
                            }
                        }

                        if (id != null) {
                            this.fd.append('sbdwWbwpksId', id);
                        }

                        doApiByFile(
                            function (res) {
                                if(res.status === 200) {
                                    vm.roomPersonDialog = false;
                                    // vm.$message.info("新增保安成功！");
                                } else{
                                    vm.$message.error("新增危爆物品库室管理人员失败！");
                                }
                            },null,null,params.serviceIp + '/SbdwWbwpksglry/addData',"post", this.fd,false
                        );
                    }
                },

                rowKey :function(row) {
                    return row.id;
                },
                clearFilter:function () { // 清空全部筛选,必须放到方法中，否则加载失败
                    // this.$refs.myTable01.clearSelection();
                    if(this.$refs.myTable02) {
                        this.$refs.myTable02.clearSelection();
                    }
                    if(this.$refs.myTable03) {
                        this.$refs.myTable03.clearSelection();
                    }
                    if(this.$refs.myTable04) {
                        this.$refs.myTable04.clearSelection();
                    }
                },
                selectAll:function() {
                    vm.selectedArray = [];
                    if (vm.checked) {
                        for ( var i=0;i<vm.options.length;i++ ){
                            var item=vm.options[i];
                            vm.selectedArray.push(item.userId)
                        }
                    } else {
                        vm.selectedArray = [];
                    }
                },
                changeSelect:function(val) {
                    vm.selectedArray=val;
                },
                //将选中行数据存入变量
                tableRowClassName: function(obj) {
                    obj.row.index = obj.rowIndex;
                },
                selectRows: function (rows){
                    vm.saveSelectRows = rows;
                },
                selectRows02: function (importantCheckTbaleRows){
                    vm.indexLists = [];
                    vm.saveSelectRows02 = importantCheckTbaleRows;
                    for (var i=0; i<vm.saveSelectRows02.length;i++) {
                        vm.indexLists.push(vm.saveSelectRows02[i].index)
                    }
                },
                selectRows03: function (cyCheckTbaleRows){
                    vm.indexLists = [];
                    vm.saveSelectRows03 = cyCheckTbaleRows;
                    for (var i=0; i<vm.saveSelectRows03.length;i++) {
                        vm.indexLists.push(vm.saveSelectRows03[i].index)
                    }
                },
                selectRows04: function (roomCheckTbaleRows){
                    vm.indexLists = [];
                    vm.saveSelectRows04 = roomCheckTbaleRows;
                    for (var i=0; i<vm.saveSelectRows04.length;i++) {
                        vm.indexLists.push(vm.saveSelectRows04[i].index)
                    }
                },
                //填充下拉框
                /* fillOptions:function () {
                    doApi(
                        function (res) {
                            if(res.status === 200) {
                                vm.options= res.data;
                            }
                        },null,null,params.serviceIp + '/PoliceInfo/getCurrentUserPoliceInfo',
                        "get"
                    )
                },*/
                //初始化数据列表
                loadData: function () {
                    vm.params.page=vm.pageIndex;
                    vm.params.limit=vm.pageSize;

                    doApi(
                        function (res) {
                            // console.log(res);
                            if(res.status === 200) {
                                vm.rows= res.data.rows;
                                vm.total =res.data.total;
                            }
                        },null,null,params.serviceIp + '/SbdwJbqk/listUserDeptData',
                        "get",vm.params
                    );
                    // console.log(vm.rows)
                },
                setTableDiv:function(){
                    var height=$(window).height()-200;
                    $("#tableDiv").css("height",height);
                },
                //初始化派出所列表
                loadData02: function () {
                    doApi(
                        function (res) {
                            if(res.status === 200) {
                                vm.policeStation = res.data;
                            }
                        },null,null,params.serviceIp + '/PoliceInfo/getCurrentUserPoliceStation',"get"
                    );
                },
                // 初始化危爆物品库室管理人员
                loadDataRoomPerson: function (id) {
                    doApi(
                        function (res) {
                            // console.log(res);
                            if(res.status === 200) {
                                vm.roomPersonRows = res.data.rows;
                            }
                        },null,null,params.serviceIp + '/SbdwWbwpksglry/listByParentId',
                        "get", {
                            'sbdwWbwpksId': id,
                            'page':0,
                            'limit':999
                        }
                    );
                },
                //分页 初始页pageIndex、控制每页几条
                handleSizeChange:function(size){
                    this.pageSize = size;
                    this.loadData();
                },
                // 控制页面的切换
                handleCurrentChange: function(pageIndex) {
                    this.pageIndex = pageIndex;
                    this.loadData();
                },
                isProgress:function(startTime,endTime){
                    if(startTime==null||endTime==null){
                        return true;
                    }
                    var now=new Date();
                    if(now<new Date(startTime.replace(/-/g,"/"))||now>new Date(endTime.replace(/-/g,"/"))){
                        return false;
                    }
                    return true;
                },
                getTagColor: function (score) {
                    if (score == 1) {
                        return "success";
                    } else if(score == 0){
                        return "danger";
                    }
                    return "info";
                },
                show: function (row) { //获取点击对象
                    vm.activeName = 'first'
                    vm.oldMissionPersons = [];
                    vm.selectedArray=[];
                    vm.row=row;
                    vm.frdbcsrq = vm.row.frdbcsrq;
                    vm.fzrcsrq = vm.row.fzrcsrq;
                    vm.zabwrycsrq = vm.row.zabwrycsrq;
                    vm.row.yyzzDelIds = [];
                    vm.srcList = [];
                    vm.srcList2 = [];
                    vm.srcList3 = [];
                    vm.srcList4 = [];
                    vm.srcList5 = [];

                    // console.log(vm.row)

                    if($("#mainIframe")[0]) {
                        vm.operated='edit';
                        const obj1 = $("#mainIframe")[0].contentWindow;
                        // const obj1 = this.$refs['mainIframe'].contentWindow;
                        // 获得对应iframe的window对象
                        obj1.setData(vm.operated,row);
                    }

                    if (row.frdbzp) {
                        vm.frImageUrl = vm.getShowUrl(row.frdbzp);
                    }
                    if (row.fzrzp) {
                        vm.fzrImageUrl = vm.getShowUrl(row.fzrzp);
                    }
                    if (row.zabwryzp) {
                        vm.zabwryImageUrl = vm.getShowUrl(row.zabwryzp);
                    }
                    if (row.yyzzList) {
                        vm.yyzzImgLists = row.yyzzList;
                        for(var i=0; i<vm.yyzzImgLists.length; i++) {
                            vm.srcList.push(vm.getShowUrl(vm.yyzzImgLists[i].url));
                        }
                    }
                    if (row.aqscxkzList) {
                        vm.aqscxkzImgLists = row.aqscxkzList;
                        for(var i=0; i<vm.aqscxkzImgLists.length; i++) {
                            vm.srcList2.push(vm.getShowUrl(vm.aqscxkzImgLists[i].url));
                        }
                    }
                    if (row.ckxkzList) {
                        vm.ckxkzImgLists = row.ckxkzList;
                        for(var i=0; i<vm.ckxkzImgLists.length; i++) {
                            vm.srcList3.push(vm.getShowUrl(vm.ckxkzImgLists[i].url));
                        }
                    }
                    if (row.bpzydwxkzList) {
                        vm.bpzydwxkzImgLists = row.bpzydwxkzList;
                        for(var i=0; i<vm.bpzydwxkzImgLists.length; i++) {
                            vm.srcList4.push(vm.getShowUrl(vm.bpzydwxkzImgLists[i].url));
                        }
                    }
                    if (row.kgpfwjList) {
                        vm.xgkgpfImgLists = row.kgpfwjList;
                        for(var i=0; i<vm.xgkgpfImgLists.length; i++) {
                            vm.srcList5.push(vm.getShowUrl(vm.xgkgpfImgLists[i].url));
                        }
                    }
                    vm.dialogShow=true;
                },
                deleteList:function () {
                    vm.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {
                        confirmButtonText: '确定',
                        cancelButtonText: '取消',
                        type: 'warning'
                    }).then(function () {
                        var delIds=[];
                        for ( var i=0;i<vm.saveSelectRows.length;i++ ){
                            var row=vm.saveSelectRows[i];
                            delIds.push(row.id);
                        }
                        doApiByJsonstr(
                            function(res) {
                                if (res.status === 200) {
                                    vm.pageIndex=1;
                                    vm.loadData();
                                    vm.dialogShow=false;
                                    vm.clearFilter();
                                    vm.$message.info("批量删除成功！");
                                }else{
                                    vm.$message.error("批量删除失败！");
                                }
                            },
                            null, null, params.serviceIp + '/SbdwJbqk/batchDelete', 'post',delIds
                        );
                    }).catch(function () {
                        vm.$message({
                            type: 'info',
                            message: '已取消删除'
                        });
                    });
                },
                showMessage:function (status) {
                    if (status=='suc'){
                        vm.$message.info("操作成功！");
                    }if (status=='fail'){
                        vm.$message.error("操作失败！");
                    }
                },
                handleClick: function(tab, event) {
                    if (tab.name === 'third' && vm.row.id) {
                        vm.importantPersonCheck(vm.row.id);
                    } else if (tab.name === 'fourth' && vm.row.id) {
                        vm.cyPersonCheck(vm.row.id);
                    } else if (tab.name === 'fifth' && vm.row.id) {
                        vm.roomCheck(vm.row.id);
                    }
                    vm.clearFilter();
                },
                handleClick02: function(tab, event) {
                    if (tab.name === 'five' && vm.roomCheckTbaleRow.id) {
                        vm.loadDataRoomPerson(vm.roomCheckTbaleRow.id);
                    } else if (vm.roomCheckTbaleRow.roomPersonRows) {
                        vm.roomPersonRows = vm.roomCheckTbaleRow.roomPersonRows;
                    }
                },
                // 自动根据身份证号码填入出生日期
                idNumTransform: function(num, name) {
                    if (num.length >= 14) {
                        var date = num.slice(6, 10) + '-' + num.slice(10, 12) + '-' + num.slice(12, 14);
                        if (name === 'frdb') {
                            vm.frdbcsrq = date;
                            vm.row.frdbcsrq = vm.frdbcsrq;
                        } else if (name === 'fzr') {
                            vm.fzrcsrq = date;
                            vm.row.fzrcsrq = vm.fzrcsrq;
                        } else if (name === 'zabwry') {
                            vm.zabwrycsrq = date;
                            vm.row.zabwrycsrq = vm.zabwrycsrq;
                        } else if (name === 'important') {
                            vm.birthday = date;
                            vm.importantCheckTbaleRow.birthday = vm.birthday;
                        } else if (name === 'cyry') {
                            vm.birthday = date;
                            vm.cyCheckTbaleRow.birthday = vm.birthday;
                        }
                    }
                },
                // 获取压缩路径图片、音频或视频
                getShowUrl:function (oldUrl) {
                    if (oldUrl){
                        //将url的ip换成服务器的ip
                        var showUrl=urlChangeIp(oldUrl,params.serviceIp);
                        //选择展示的url
                        var url=getThumbnail(showUrl);
                        if(isExistUrl(url)){
                            return url;
                        } else {
                            if(isExistUrl(showUrl)){
                                return showUrl;
                            }else {
                                return params.serviceIp + params.pictureLoadingFailedUrl;
                            }
                        }
                    }
                    return null;
                },
                // 导出
                exportToExcel: function(id, name) {
                    var loading = this.$loading({
                        lock: true,
                        text: 'Loading',
                        spinner: 'el-icon-loading',
                        background: 'rgba(0, 0, 0, 0.7)'
                    });
                    var oReq = new XMLHttpRequest();
                    //判断是否IE浏览器
                    var isIE = !!window.ActiveXObject || "ActiveXObject" in window;
                    //url参数为拿后台数据的接口
                    var url = params.serviceIp + '/SbdwAqjc/exportExcel?id=' + id;
                    oReq.open("get",url, true);
                    oReq.responseType = "blob";
                    oReq.onload = function (oEvent) {
                        var content = oReq.response;
                        var blob = new Blob([content]);
                        if(isIE){
                            window.navigator.msSaveOrOpenBlob(blob, name + '安全检查记录' + '.xls');
                        } else {
                            var elink = document.createElement('a');
                            elink.download = name + '安全检查记录' + '.xls';
                            elink.style.display = 'none';
                            elink.href = URL.createObjectURL(blob);
                            document.body.appendChild(elink);
                            elink.click();
                            document.body.removeChild(elink);
                        }
                        loading.close();
                    };
                    //请求头里放入用户口令，必须在.open()和.send()之间设置
                    var token = localStorage.getItem('token');
                    oReq.setRequestHeader('Authorization', token);
                    oReq.send();
                }
            }
        })
    })
</script>
<script type="text/javascript">
    function initButton(vm) {
        $('button').on("click", function (e) {
            switch (this.innerText.trim()) {
                case "重置":
                    // vm.params.unitp=null;
                    // vm.params.fzrxm=null;
                    // vm.params.dptId=null;
                    vm.params={};
                    break;
                case "查询":
                    vm.pageIndex=1;
                    vm.loadData();
                    break;
                case "新增":
                    // var nullDate ='';
                    const obj1 = $("#mainIframe")[0].contentWindow;
                    vm.operated='add';
                    // obj1.setData(vm.operated);
                    vm.activeName = 'first';
                    vm.dialogShow=true;
                    break;
                case "关闭":
                    break;
            }
        });
    }
</script>
